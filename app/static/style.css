body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #59d0ff9a 0%, #16353e 100%);
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    overflow-y: auto !important;

    background-color: transparent !important;
}
html, body {
        /* Libera a rolagem vertical */
        overflow-y: auto !important; 
        
        /* Permite que a página cresça além do tamanho da tela */
        height: auto !important; 
        min-height: 100vh;

        /* Remove cor de fundo para ver a imagem */
        background-color: transparent !important; 
        margin: 0; padding: 0;
    }
.container {
    max-width: 1400px;          
    margin: 0 auto;
}

h1 {
    text-align: center;
    color: white;
    font-size: 2.8rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.total {
    text-align: center;
    color: #4fc3f7;
    font-size: 1.3rem;
    margin-bottom: 30px;
    font-weight: bold;
}

.error {
    background: rgba(244, 67, 54, 0.2);
    color: #ff6b6b;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    margin: 20px auto;
    max-width: 500px;
    border: 1px solid #ff6b6b;
}

.empty {
    grid-column: 1 / -1;
    text-align: center;
    color: white;
    font-size: 1.3rem;
    padding: 50px;
}

.pokemon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 20px;
    }

    .pokemon-card {
        background: rgba(20, 20, 30, 0.85); /* Escuro translúcido */
        border: 1px solid #333;
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        
    }

    .pokemon-card:hover {
        transform: translateY(-5px);
        border-color: #64D7F4;
        box-shadow: 0 5px 15px rgba(100, 215, 244, 0.2);
        background: rgba(30, 30, 50, 0.95);
    }

    .pokemon-number {
        color: #666;
        font-size: 0.9rem;
        font-weight: bold;
        background: rgba(0,0,0,0.5);
        border-radius: 10px;
        padding: 2px 8px;
        display: inline-block;
        margin-bottom: 10px;
    }

    .pokemon-card img {
        width: 120px;
        height: 120px;
        object-fit: contain;
        transition: transform 0.3s;
    }

    .pokemon-card:hover img {
        transform: scale(1.1);
    }

    .pokemon-name {
        color: white;
        font-weight: bold;
        margin-top: 10px;
        text-transform: capitalize;
        font-size: 1.1rem;
    }

    /* --- 4. FOOTER ROTOM (Barra de Pesquisa) --- */
    .rotom-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 80px;
        background: #D92525; /* Vermelho */
        border-top: 6px solid #222; /* Borda Preta Robusta */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100;
        box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
    }

    /* Linha Neon Azul no Footer */
    .footer-neon-line {
        position: absolute;
        top: -3px; /* Fica dentro da borda preta */
        width: 60%;
        height: 3px;
        background: #64D7F4;
        box-shadow: 0 0 10px #64D7F4;
        border-radius: 2px;
    }

    /* Input de Pesquisa Estilizado */
    .search-container {
        position: relative;
        width: 90%;
        max-width: 600px;
    }

    .rotom-search {
        width: 100%;
        padding: 12px 20px;
        padding-left: 45px; /* Espaço para o ícone */
        border-radius: 30px;
        border: 3px solid #222;
        background: #fff;
        font-family: 'Orbitron', sans-serif;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s;
        color: #333;
    }

    .rotom-search:focus {
        border-color: #64D7F4;
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.5);
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
    }
.scene-container {
        position: fixed; /* Isso tira o elemento do fluxo normal e ignora margens do base.html */
        top: 0;
        left: 0;
        width: 100vw; /* 100% da largura da viewport */
        height: 100vh; /* 100% da altura da viewport */
        
        display: flex;
        justify-content: center;
        align-items: flex-end;

        /* Imagem de Fundo */
        background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.2)), url('/static/img/v1.webp'); 
        background-size: cover; /* Garante que a imagem cubra tudo sem esticar */
        background-position: center;
        background-repeat: no-repeat;
        
        z-index: 0; /* Fica no fundo */
    }

    /* --- PERSONAGEM --- */
    .character-img {
        position: absolute;
        bottom: 12vh;
        height: 55vh; 
        z-index: 1;
        filter: drop-shadow(0 0 10px rgba(255, 255, 255, 0.3));

    }
    

    /* --- BALCÃO --- */
    .counter-desk {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 15vh;
        background: #D92525;
        z-index: 2;
        border-top: 5px solid #333;
        box-shadow: 0px -5px 20px rgba(217, 37, 37, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        border-top-left-radius: 50% 20%;
        border-top-right-radius: 50% 20%;
    }

    .counter-deco {
        width: 80%;
        height: 5px;
        border-radius: 10px;
    }

    /* --- MENU HOLOGRÁFICO --- */
    .holo-menu {
        position: absolute;
        top: 15%;
        z-index: 3;
        width: 100%;
        max-width: 600px;
        text-align: center;
    }

    /* Mantive o resto do estilo do menu igual ao anterior */
    .holo-card {
        background: rgba(13, 17, 23, 0.85);
        border: 2px solid #D92525;
        border-radius: 20px;
        padding: 30px;
        backdrop-filter: blur(5px);
        box-shadow: 0 0 15px rgba(217, 37, 37, 0.3);
        clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%);
    }

    .holo-title {
        color: #64D7F4;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: 20px;
        text-shadow: 0 0 5px #64D7F4;
    }

    .btn-poke {
        background: transparent;
        border: 1px solid #64D7F4;
        color: #fff;
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 5px;
        text-transform: uppercase;
        font-weight: bold;
        transition: all 0.3s;
        display: block; 
        text-decoration: none; 
    }

    .btn-poke:hover {
        background: #64D7F4;
        color: #000;
        box-shadow: 0 0 15px #64D7F4;
        transform: scale(1.02);
    }

    .scanlines {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px;
        z-index: 10;
        pointer-events: none;
        opacity: 0.3;
    }
.btn-sound {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(13, 17, 23, 0.9);
            border: 2px solid #D92525;
            color: #D92525;
            font-size: 24px;
            z-index: 9999; /* Z-index alto para ficar acima de tudo */
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            outline: none;
        }

       .btn-sound {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(13, 17, 23, 0.9);
            border: 2px solid #D92525;
            color: #D92525;
            font-size: 24px;
            
            /* CORREÇÃO AQUI: Garante que nada cubra o botão */
            z-index: 999999 !important; 
            pointer-events: auto !important;
            
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            outline: none;
        }

        .btn-sound.playing {
            border-color: #64D7F4;
            color: #64D7F4;
            box-shadow: 0 0 10px rgba(100, 215, 244, 0.3);
            animation: pulse-sound 2s infinite;
        }

        .btn-sound.playing:hover {
            background: #64D7F4;
            color: black;
        }

        @keyframes pulse-sound {
            0% { box-shadow: 0 0 0 0 rgba(100, 215, 244, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(100, 215, 244, 0); }
            100% { box-shadow: 0 0 0 0 rgba(100, 215, 244, 0); }
        }

    /* --- CONFIGURAÇÃO DA TELA (FullScreen) --- */
    body, html {
        margin: 0 !important;
        padding: 0 !important;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
    }

    .scene-container {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        /* Fundo com gradiente suave azulado típico de Kalos */
        background: radial-gradient(circle at center, rgba(100, 215, 244, 0.1) 0%, rgba(0, 0, 0, 0.226) 100%), 
                    url('/static/img/v1.webp'); 
        background-size: cover;
        background-position: center;
        z-index: 0;
    }

    /* --- PERSONAGEM (ESQUERDA) --- */
    .character-img {
        position: absolute;
        bottom: 12vh; /* Altura em relação ao chão */
        left: 5vw;    /* Jogado para a ESQUERDA */
        height: 65vh; /* Aumentei um pouco */
        z-index: 1;
        filter: drop-shadow(5px 5px 15px rgba(0,0,0,0.5));
    }
    

    /* --- BALCÃO VERMELHO (CORRIGIDO) --- */
    .counter-desk {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 15vh;
        background: #D92525; /* Vermelho */
        z-index: 2;
        
        /* CORREÇÃO: Removi a borda cinza (border-top) */
        border-top: none; 
        

      
        border: 8px solid #222; 
      
        border-bottom: none; 
        
        box-sizing: border-box;



        /* Curva suave */
        border-top-left-radius: 50% 20%;
        border-top-right-radius: 50% 20%;
        
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0px -10px 30px rgba(0,0,0,0.5);
    }

    /* Linha de néon azul no balcão */
    .counter-deco {
        position: absolute;
        /* Mudei de 25px para 45px (empurrei bem mais para baixo) */
        top: 45px; 
        width: 90%;
        height: 6px; /* Aumentei um tiquinho a espessura */
        border-radius: 10px;
        z-index: 4; /* Garante que fique atrás da bola se sobrepor */
    }

    /* --- LOGO DA POKÉBOLA (REALINHADA) --- */
    .pokeball-logo {
        position: relative;
        /* CALCULO MATEMÁTICO DO ALINHAMENTO:
           Se a linha está em 45px (top) e a bola tem 80px de altura:
           O centro da bola é 40px. 
           Para o centro (40px) ficar na linha (45px), o topo da bola tem que começar em 5px.
           Como o flexbox joga ela pro topo 0, usamos margin-top: 5px.
        */
        margin-top: 5px; 
        
        width: 80px;
        height: 80px;
        border: 4px solid #64D7F4; 
        border-radius: 50%;
        background: #D92525; 
        z-index: 5; /* Fica na frente da linha */
        box-shadow: 0 0 20px rgba(100, 215, 244, 0.4);
    }

    /* Linha horizontal da pokébola */
    .pokeball-logo::before {
        content: '';
        position: absolute;
        top: 50%; left: 0;
        width: 100%; height: 4px;
        background: #64D7F4;
        transform: translateY(-50%);
    }

    /* Botão central da pokébola */
    .pokeball-logo::after {
        content: '';
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 25px; height: 25px;
        background: #D92525;
        border: 4px solid #64D7F4;
        border-radius: 50%;
        box-shadow: inset 0 0 5px #64D7F4;
    }

    /* --- MENU KALOS (DIREITA) --- */
    .holo-menu {
        position: absolute;
        top: 20%;
        right: 5vw; /* Jogado para a DIREITA */
        width: 450px; /* Largura fixa para os painéis */
        z-index: 3;
        /* Removi o background geral (.holo-card) para ficarem separados */
    }

    .holo-title {
        text-align: right;
        color: #fff;
        font-family: 'Orbitron', sans-serif;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 30px;
        font-weight: 700;
        letter-spacing: 2px;
    }

    /* BOTÕES ESTILO KALOS (QUADRADOS SEPARADOS) */
/* --- BOTÕES ESTILO KALOS (ABERTOS/TELA EXPOSTA) --- */
    .kalos-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        
        height: 140px; /* Um pouco mais alto para caber as tampas */
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
        
        /* A TELA (MEIO) */
        /* Fundo azul claro transparente simulando vidro/holograma */
        background: rgba(200, 245, 255, 0.9); 
        
        /* Laterais vermelhas finas conectando as peças */
        border-left: 3px solid #D92525;
        border-right: 3px solid #D92525;
        border-radius: 15px; /* Cantos arredondados */

        /* Texto Escuro para contraste na tela clara */
        color: #00566b; 
        text-decoration: none;
        font-size: 1.1rem;
        font-weight: 800; /* Extra bold */
        text-transform: uppercase;
        
        box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        
        /* Espaço interno para o texto não bater nas tampas */
        padding-top: 30px; 
        padding-bottom: 20px;
    }

    /* --- TAMPA SUPERIOR VERMELHA --- */
    .kalos-btn::before {
        content: '';
        position: absolute;
        top: 0; left: 0;
        width: 100%; 
        height: 35px; /* Altura da tampa */
        background: #D92525; /* Vermelho Kalos */
        border-bottom: 4px solid #222; /* Divisória escura */
        z-index: 2;
        
        /* O SENSOR (O olho azul na parte vermelha) */
        /* Feito com gradiente para não precisar de mais elementos */
        background-image: radial-gradient(circle at 50% 100%, #64D7F4 6px, #222 7px, #222 10px, transparent 11px);
    }

    /* --- TAMPA INFERIOR VERMELHA --- */
    .kalos-btn::after {
        content: '';
        position: absolute;
        bottom: 0; left: 0;
        width: 100%; 
        height: 25px; 
        background: #D92525;
        border-top: 4px solid #222;
        z-index: 2;
        
        /* Detalhe curvo na parte de baixo */
        background-image: radial-gradient(circle at 50% 0%, transparent 8px, #D92525 9px);
    }

    /* Ajuste do Ícone e Texto */
    .kalos-btn span {
        font-size: 2.2rem;
        margin-bottom: 2px;
        display: block;
        position: relative;
        z-index: 1;
        /* Sombra no ícone para destacar na tela clara */
        filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
    }

    /* Efeito Hover: A tela "acende" */
    .kalos-btn:hover {
        background: #fff; /* Fica branco brilhante */
        box-shadow: 0 0 25px rgba(100, 215, 244, 0.6); /* Brilho azul externo */
        transform: scale(1.03);
        border-color: #ff4d4d;
        color: #000;
    }
    /* Scanlines (Efeito de TV) */
    .scanlines {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px;
        z-index: 10;
        pointer-events: none;
        opacity: 0.2;
    }
@keyframes move-pattern {
        0% {
            background-position: 0 0;
        }
        100% {
            /* Move 100px para a direita e 100px para baixo */
            /* Isso cria o efeito diagonal */
            background-position: 100px 100px; 
        }
    }

    /* 2. A camada que vai ter as pokébolas */
    .pokeball-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        
        /* Substitua o URL abaixo pela imagem da sua mini-pokebola */
        /* Estou usando um ícone de exemplo da internet para você ver funcionando agora */
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        
        /* Tamanho da pokébola (ajuste conforme a imagem que você escolher) */
        background-size: 50px 50px; 
        
        /* Opacidade bem baixa para não brigar com o menu (efeito marca d'água) */
        opacity: 0.05; 
        
        /* Aplica a animação: nome, duração, curva linear (sem parar), infinita */
        animation: move-pattern 4s linear infinite;
        
        z-index: 1; /* Fica acima do fundo (0), mas abaixo da Joy (2) */
        pointer-events: none; /* Deixa clicar através dele */
    }

    /* --- AJUSTE DE Z-INDEX DOS OUTROS ELEMENTOS --- */
    /* Precisamos garantir que o resto fique ACIMA do padrão animado */
    
    .character-img { z-index: 2; } /* Joy na frente do padrão */
    .counter-desk { z-index: 3; }  /* Balcão na frente da Joy */
    .holo-menu { z-index: 4; }     /* Menu na frente de tudo */
body {
        /* Permite rolagem nesta página */
        overflow-y: auto !important; 
        background-color: #0d1117;
    }  
/* Container para o fundo não rolar junto com a página */
    .fixed-background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: -1; /* Fica atrás de tudo */
        
        /* Imagem de Fundo */
        background: url('{% static "img/v1.webp" %}');
        background-size: cover;
        background-position: center;
    }

    /* A animação das pokébolas (reaproveitada) */
    .pokeball-pattern {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Pok%C3%A9_Ball_icon.svg/1024px-Pok%C3%A9_Ball_icon.svg.png');
        background-size: 50px 50px; 
        opacity: 0.05; 
        animation: move-pattern 10s linear infinite;
    }

    @keyframes move-pattern {
        0% { background-position: 0 0; }
        100% { background-position: 100px 100px; }
    }

    /* --- 2. ÁREA DE CONTEÚDO --- */
    .pokedex-container {
        padding-top: 40px;
        /* Espaço extra embaixo para o footer não cobrir os últimos pokémons */
        padding-bottom: 120px; 
        position: relative;
        z-index: 1;
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        color: white;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 10px;
    }

    .total-counter {
        color: #64D7F4;
        font-weight: bold;
        margin-bottom: 30px;
        background: rgba(0,0,0,0.5);
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        border: 1px solid #64D7F4;
    }    
.fixed-background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: 0; 
        background: url('{% static "img/v1.webp" %}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    .pokeball-pattern {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        background-size: 50px 50px; 
        opacity: 0.05; 
        animation: move-pattern 10s linear infinite;
    }

    @keyframes move-pattern {
        0% { background-position: 0 0; }
        100% { background-position: 100px 100px; }
    }

    /* --- 2. HEADER ROTOM --- */
    .rotom-header {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 80px;
        background: #D92525;
        border-bottom: 6px solid #222; 
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100; 
        box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .header-neon-line {
        position: absolute;
        bottom: -3px; 
        width: 60%;
        height: 3px;
        background: #64D7F4;
        box-shadow: 0 0 10px #64D7F4;
        border-radius: 2px;
    }

    .search-container {
        position: relative;
        width: 90%;
        max-width: 600px;
    }

    .rotom-search {
        width: 100%;
        padding: 12px 20px;
        padding-left: 45px;
        border-radius: 30px;
        border: 3px solid #222;
        background: #fff;
        font-family: 'Orbitron', sans-serif;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s;
        color: #333;
    }

    .rotom-search:focus {
        border-color: #64D7F4;
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.5);
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        color: #222;
    }

    /* --- 3. ÁREA DE CONTEÚDO --- */
    .pokedex-container {
        padding-top: 140px; 
        padding-bottom: 40px; 
        position: relative;
        z-index: 1; 
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        color: white;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 10px;
    }

    .total-counter {
        color: #64D7F4;
        font-weight: bold;
        margin-bottom: 30px;
        background: rgba(0,0,0,0.5);
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        border: 1px solid #64D7F4;
    }

    /* --- 4. CARDS --- */
    .pokemon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 20px;
    }

    .pokemon-card {
        background: rgba(15, 15, 25, 0.4); 
        backdrop-filter: blur(5px); 
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .pokemon-card:hover {
        transform: translateY(-5px);
        border-color: #64D7F4;
        background: rgba(30, 30, 50, 0.7); 
        box-shadow: 0 5px 15px rgba(100, 215, 244, 0.2);
    }

    .pokemon-number {
        color: #ccc;
        font-size: 0.8rem;
        font-weight: bold;
        background: rgba(0,0,0,0.5);
        border-radius: 10px;
        padding: 2px 8px;
        display: inline-block;
        margin-bottom: 5px;
    }

    .image-container {
        height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Ajuste para Pixel Art ficar nítida */
    .pokemon-card img.primary-img {
        width: 96px; /* GIFs geralmente são menores, não estique muito */
        height: 96px;
        object-fit: contain;
        
        transition: transform 0.3s;
        
        /* IMPORTANTE: Mantém o pixel art nítido */
        image-rendering: pixelated; 
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
    }

    .pokemon-card:hover img.primary-img {
        transform: scale(1.2);
    }

    .pokemon-name {
        color: white;
        font-weight: bold;
        margin-top: 5px;
        text-transform: capitalize;
        font-size: 1.1rem;
    }

    /* --- 5. ÍCONES DE TIPO --- */
    .types-container {
        display: flex;
        justify-content: center;
        gap: 8px; 
        margin-top: 10px;
        min-height: 30px; 
    }

    .type-badge {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.2);
    }
    
    .type-badge img {
        width: 60%;
        height: 60%;
        filter: drop-shadow(0 1px 2px rgba(0,0,0,0.5));
    }

    /* Cores dos Tipos */
    .type-normal { background-color: #A8A77A; }
    .type-fire { background-color: #EE8130; }
    .type-water { background-color: #6390F0; }
    .type-electric { background-color: #F7D02C; }
    .type-grass { background-color: #7AC74C; }
    .type-ice { background-color: #96D9D6; }
    .type-fighting { background-color: #C22E28; }
    .type-poison { background-color: #A33EA1; }
    .type-ground { background-color: #E2BF65; }
    .type-flying { background-color: #A98FF3; }
    .type-psychic { background-color: #F95587; }
    .type-bug { background-color: #A6B91A; }
    .type-rock { background-color: #B6A136; }
    .type-ghost { background-color: #735797; }
    .type-dragon { background-color: #6F35FC; }
    .type-dark { background-color: #705746; }
    .type-steel { background-color: #B7B7CE; }
    .type-fairy { background-color: #D685AD; }


.fixed-background {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0;
        background: url('{% static "img/v1.webp" %}');
        background-size: cover; background-position: center;
    }

    /* --- HEADER --- */
    .detail-header {
        position: fixed; top: 0; width: 100%; height: 60px;
        background: #D92525; border-bottom: 5px solid #222;
        display: flex; align-items: center; padding: 0 30px;
        z-index: 100; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .back-btn {
        background: #222; color: #fff; border: 2px solid #fff;
        padding: 6px 20px; border-radius: 30px; text-decoration: none;
        font-weight: bold; font-family: 'Orbitron'; transition: 0.3s;
        display: flex; align-items: center; gap: 10px; font-size: 0.9rem;
    }
    .back-btn:hover { background: #fff; color: #D92525; border-color: #D92525; }

    /* --- LAYOUT --- */
    .detail-container {
        padding-top: 80px; padding-bottom: 40px;
        max-width: 1400px; margin: 0 auto;
        display: grid;
        grid-template-columns: 280px 1fr 320px; 
        gap: 20px; position: relative; z-index: 1; align-items: start;
    }

    /* --- PAINÉIS --- */
    .panel-box {
        background: rgba(15, 15, 25, 0.85); backdrop-filter: blur(12px);
        border: 2px solid #333; border-radius: 15px;
        padding: 15px; margin-bottom: 15px;
        color: white; box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        position: relative; overflow: hidden;
    }
    .panel-box::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
        background: linear-gradient(90deg, #D92525, #64D7F4);
    }

    .desc-box h3, .evo-box h3, .moves-box h3 {
        color: #64D7F4; font-family: 'Orbitron'; font-size: 1rem; margin-bottom: 10px;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .flavor-text { font-size: 0.9rem; line-height: 1.5; color: #ddd; font-style: italic; }

    /* --- EVOLUÇÃO --- */
    .evo-chain { display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; }
    .evo-arrow { color: #D92525; font-size: 1.2rem; }
    .evo-img-wrapper {
        position: relative; cursor: pointer; transition: 0.3s;
        background: rgba(255,255,255,0.05); border-radius: 50%; padding: 5px; border: 1px solid transparent;
    }
    .evo-img-wrapper:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: scale(1.1); }
    .evo-img { width: 60px; height: 60px; object-fit: contain; image-rendering: pixelated; }

    /* --- CENTRO --- */
    .center-stage { display: flex; flex-direction: column; align-items: center; }

    .pkmn-header { display: flex; align-items: center; justify-content: center; gap: 20px; width: 100%; position: relative; }
    .pkmn-name { font-family: 'Orbitron'; font-size: 2.8rem; color: white; text-shadow: 0 0 20px rgba(100, 215, 244, 0.6); text-transform: capitalize; margin: 0; line-height: 1; }
    .pkmn-id-badge {
        background: #222; color: #D92525; font-weight: bold; font-family: 'Orbitron';
        padding: 4px 12px; border-radius: 8px; border: 1px solid #D92525; font-size: 0.9rem; margin-bottom: 5px;
    }
    .nav-btn {
        background: rgba(0,0,0,0.6); border: 2px solid #555; color: #fff; width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 1.5rem; transition: 0.3s;
    }
    .nav-btn:hover { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px #64D7F4; }

    /* --- TIPOS CORRIGIDOS (SÓ ÍCONES) --- */
    .types-row { display: flex; gap: 15px; margin-top: 10px; height: 50px; align-items: center; }
    
    .type-badge {
        width: 45px; height: 45px; /* Tamanho fixo e redondo */
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        border: 2px solid rgba(255,255,255,0.3);
        transition: transform 0.3s;
    }
    .type-badge:hover { transform: scale(1.1); }
    
    .type-icon { width: 28px; height: 28px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)); }

    /* Cores dos Tipos (Fundo das bolinhas) */
    .bg-type-fire { background: linear-gradient(135deg, #f08030 0%, #c03028 100%); }
    .bg-type-water { background: linear-gradient(135deg, #6890f0 0%, #3860b0 100%); }
    .bg-type-grass { background: linear-gradient(135deg, #78c850 0%, #489030 100%); }
    .bg-type-electric { background: linear-gradient(135deg, #f8d030 0%, #c09008 100%); }
    .bg-type-ice { background: linear-gradient(135deg, #98d8d8 0%, #68a0a0 100%); }
    .bg-type-fighting { background: linear-gradient(135deg, #c03028 0%, #801008 100%); }
    .bg-type-poison { background: linear-gradient(135deg, #a040a0 0%, #702070 100%); }
    .bg-type-ground { background: linear-gradient(135deg, #e0c068 0%, #a08038 100%); }
    .bg-type-flying { background: linear-gradient(135deg, #a890f0 0%, #7860c0 100%); }
    .bg-type-psychic { background: linear-gradient(135deg, #f85888 0%, #c02050 100%); }
    .bg-type-bug { background: linear-gradient(135deg, #a8b820 0%, #788810 100%); }
    .bg-type-rock { background: linear-gradient(135deg, #b8a038 0%, #887018 100%); }
    .bg-type-ghost { background: linear-gradient(135deg, #705898 0%, #403068 100%); }
    .bg-type-dragon { background: linear-gradient(135deg, #7038f8 0%, #4008c8 100%); }
    .bg-type-dark { background: linear-gradient(135deg, #705848 0%, #403028 100%); }
    .bg-type-steel { background: linear-gradient(135deg, #b8b8d0 0%, #888890 100%); }
    .bg-type-fairy { background: linear-gradient(135deg, #ee99ac 0%, #be6078 100%); }
    .bg-type-normal { background: linear-gradient(135deg, #a8a878 0%, #787850 100%); }

    /* --- PLATAFORMA --- */
.fixed-background {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: 0;
        background: url('{% static "img/v1.webp" %}');
        background-size: cover; background-position: center;
    }

    /* --- HEADER --- */
    .detail-header {
        position: fixed; top: 0; width: 100%; height: 60px;
        background: #D92525; border-bottom: 5px solid #222;
        display: flex; align-items: center; padding: 0 30px;
        z-index: 100; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .back-btn {
        background: #222; color: #fff; border: 2px solid #fff;
        padding: 6px 20px; border-radius: 30px; text-decoration: none;
        font-weight: bold; font-family: 'Orbitron'; transition: 0.3s;
        display: flex; align-items: center; gap: 10px; font-size: 0.9rem;
    }
    .back-btn:hover { background: #fff; color: #D92525; border-color: #D92525; }

    /* --- LAYOUT --- */
    .detail-container {
        padding-top: 80px; padding-bottom: 40px;
        max-width: 1400px; margin: 0 auto;
        display: grid;
        grid-template-columns: 280px 1fr 320px; 
        gap: 20px; position: relative; z-index: 1; align-items: start;
    }

    /* --- PAINÉIS --- */
    .panel-box {
        background: rgba(15, 15, 25, 0.85); backdrop-filter: blur(12px);
        border: 2px solid #333; border-radius: 15px;
        padding: 15px; margin-bottom: 15px;
        color: white; box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        position: relative; overflow: hidden;
    }
    .panel-box::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
        background: linear-gradient(90deg, #D92525, #64D7F4);
    }

    .desc-box h3, .evo-box h3, .moves-box h3, .stats-header {
        color: #64D7F4; font-family: 'Orbitron'; font-size: 1rem; margin-bottom: 10px;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .flavor-text { font-size: 0.9rem; line-height: 1.5; color: #ddd; font-style: italic; }

    /* --- EVOLUÇÃO --- */
    .evo-chain { display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; }
    .evo-arrow { color: #D92525; font-size: 1.2rem; }
    .evo-img-wrapper {
        position: relative; cursor: pointer; transition: 0.3s;
        background: rgba(255,255,255,0.05); border-radius: 50%; padding: 5px; border: 1px solid transparent;
    }
    .evo-img-wrapper:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: scale(1.1); }
    /* Força pixel art nas evoluções também */
    .evo-img { width: 60px; height: 60px; object-fit: contain; image-rendering: pixelated; }

    /* --- CENTRO --- */
    .center-stage { display: flex; flex-direction: column; align-items: center; }

    .pkmn-header { display: flex; align-items: center; justify-content: center; gap: 20px; width: 100%; position: relative; }
    .pkmn-name { font-family: 'Orbitron'; font-size: 2.8rem; color: white; text-shadow: 0 0 20px rgba(100, 215, 244, 0.6); text-transform: capitalize; margin: 0; line-height: 1; }
    .pkmn-id-badge {
        background: #222; color: #D92525; font-weight: bold; font-family: 'Orbitron';
        padding: 4px 12px; border-radius: 8px; border: 1px solid #D92525; font-size: 0.9rem; margin-bottom: 5px;
    }
    .nav-btn {
        background: rgba(0,0,0,0.6); border: 2px solid #555; color: #fff; width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 1.5rem; transition: 0.3s;
    }
    .nav-btn:hover { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px #64D7F4; }

    /* --- TIPOS --- */
    .types-row { display: flex; gap: 15px; margin-top: 10px; height: 50px; align-items: center; }
    .type-badge {
        width: 45px; height: 45px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        border: 2px solid rgba(255,255,255,0.3); transition: transform 0.3s;
    }
    .type-badge:hover { transform: scale(1.1); }
    .type-icon { width: 28px; height: 28px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)); }

    /* Cores dos Tipos */
    .bg-type-fire { background: linear-gradient(135deg, #f08030 0%, #c03028 100%); }
    .bg-type-water { background: linear-gradient(135deg, #6890f0 0%, #3860b0 100%); }
    .bg-type-grass { background: linear-gradient(135deg, #78c850 0%, #489030 100%); }
    .bg-type-electric { background: linear-gradient(135deg, #f8d030 0%, #c09008 100%); }
    .bg-type-ice { background: linear-gradient(135deg, #98d8d8 0%, #68a0a0 100%); }
    .bg-type-fighting { background: linear-gradient(135deg, #c03028 0%, #801008 100%); }
    .bg-type-poison { background: linear-gradient(135deg, #a040a0 0%, #702070 100%); }
    .bg-type-ground { background: linear-gradient(135deg, #e0c068 0%, #a08038 100%); }
    .bg-type-flying { background: linear-gradient(135deg, #a890f0 0%, #7860c0 100%); }
    .bg-type-psychic { background: linear-gradient(135deg, #f85888 0%, #c02050 100%); }
    .bg-type-bug { background: linear-gradient(135deg, #a8b820 0%, #788810 100%); }
    .bg-type-rock { background: linear-gradient(135deg, #b8a038 0%, #887018 100%); }
    .bg-type-ghost { background: linear-gradient(135deg, #705898 0%, #403068 100%); }
    .bg-type-dragon { background: linear-gradient(135deg, #7038f8 0%, #4008c8 100%); }
    .bg-type-dark { background: linear-gradient(135deg, #705848 0%, #403028 100%); }
    .bg-type-steel { background: linear-gradient(135deg, #b8b8d0 0%, #888890 100%); }
    .bg-type-fairy { background: linear-gradient(135deg, #ee99ac 0%, #be6078 100%); }
    .bg-type-normal { background: linear-gradient(135deg, #a8a878 0%, #787850 100%); }

    /* --- PLATAFORMA --- */
    .holo-container {
        position: relative; width: 100%; height: 420px;
        display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
        perspective: 1200px; padding-bottom: 20px;
    }
    .platform-base {
        position: absolute; bottom: -120px; width: 360px; height: 360px;
        border: 4px solid #64D7F4; border-radius: 50%; transform: rotateX(80deg);
        background: rgba(0, 20, 40, 0.8);
        box-shadow: 0 0 30px rgba(100, 215, 244, 0.4), inset 0 0 20px rgba(100, 215, 244, 0.2);
        animation: pulse-ring 4s infinite alternate; z-index: 1; overflow: hidden;
    }
    .platform-grid {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%;
        background-image: linear-gradient(rgba(100, 215, 244, 0.5) 2px, transparent 2px), linear-gradient(90deg, rgba(100, 215, 244, 0.5) 2px, transparent 2px);
        background-size: 40px 40px; background-position: center; opacity: 0.6;
    }
    .platform-base::after {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: radial-gradient(circle, rgba(100,215,244,0.3) 0%, transparent 70%); pointer-events: none;
    }

    /* POKÉMON PIXELADO */
    .main-image {
        position: relative; z-index: 10; width: 380px; height: 380px;
        object-fit: contain; 
        /* FORÇA PIXEL ART MESMO SE FOR ESTÁTICO */
        image-rendering: pixelated; 
        margin-bottom: 30px;
        animation: float-pkmn 3s ease-in-out infinite;
        transition: filter 0.3s;
    }

    /* Efeitos Shiny */
    .main-image.shiny-active {
        animation: float-pkmn 3s ease-in-out infinite, shiny-pulse 1s ease-in-out;
        filter: drop-shadow(0 0 20px #fff098d5) brightness(1.2);
    }
    .sparkle {
        position: absolute; width: 20px; height: 20px;
        background: radial-gradient(circle, #fff 10%, transparent 70%);
        box-shadow: 0 0 10px #fff; border-radius: 50%; pointer-events: none; z-index: 20;
        animation: sparkle-anim 0.8s ease-out forwards;
    }
    @keyframes shiny-pulse {
        0% { filter: brightness(1); transform: scale(1); }
        50% { filter: brightness(2) drop-shadow(0 0 30px #fff); transform: scale(1.1); }
        100% { filter: brightness(1.2) drop-shadow(0 0 20px #fff098d5); transform: scale(1); }
    }
    @keyframes sparkle-anim {
        0% { opacity: 1; transform: scale(0); }
        100% { opacity: 0; transform: scale(2) translate(var(--tx), var(--ty)); }
    }

    /* --- MOVES LIST --- */
    .moves-list { height: auto; max-height: 45vh; min-height: 100px; overflow-y: auto; padding-right: 5px; }
    .moves-list::-webkit-scrollbar { width: 6px; }
    .moves-list::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
    .move-card {
        background: rgba(0,0,0,0.4); border: 1px solid #333; border-left: 4px solid #555;
        padding: 8px; margin-bottom: 6px; border-radius: 6px;
        display: flex; justify-content: space-between; align-items: center;
    }
    .move-name { font-weight: bold; font-size: 0.85rem; text-transform: capitalize; }
    .move-learn { font-size: 0.7rem; color: #888; }
    .move-pp { font-size: 0.7rem; color: #aaa; background: #222; padding: 1px 6px; border-radius: 4px; }
    .move-type-icon { width: 20px; height: 20px; }

    /* --- PESO E ALTURA (NOVO) --- */
    .info-grid { display: flex; justify-content: space-around; text-align: center; }
    .info-item h4 { color: #64D7F4; font-size: 0.8rem; margin: 0; text-transform: uppercase; }
    .info-item p { font-size: 1.2rem; font-weight: bold; margin: 5px 0 0; color: white; }

    /* --- FOOTER VARIANTES --- */
    .bottom-section {
        grid-column: 1 / -1; margin-top: 5px;
        background: rgba(13, 17, 23, 0.95); border: 1px solid #444; border-top: 3px solid #D92525;
        border-radius: 15px; padding: 15px; text-align: center;
    }
    .bottom-section h3 { color: #fff; font-family: 'Orbitron'; margin-bottom: 10px; font-size: 1rem; }
    .varieties-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; }
    .variety-card {
        display: flex; flex-direction: column; align-items: center; cursor: pointer; padding: 8px;
        border-radius: 10px; background: rgba(255,255,255,0.03); border: 1px solid transparent;
        transition: 0.3s; min-width: 80px;
    }
    .variety-card:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: translateY(-3px); }
    .variety-name { color: #fff !important; font-size: 0.75rem; margin-top: 5px; font-weight: bold; text-transform: capitalize; }
    .variety-img { width: 50px; height: 50px; object-fit: contain; image-rendering: pixelated; }

    .shiny-control { text-align: center; margin-top: 0px; }
    .shiny-btn {
        background: #1a1a1a; border: 2px solid #D92525; color: #D92525;
        padding: 8px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.8rem;
        cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px;
    }
    .shiny-btn.active { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px rgba(100, 215, 244, 0.4); background: #0d1117; }
    .shiny-btn.active .shiny-icon { filter: grayscale(0%); transform: rotate(360deg); }
    .shiny-icon { font-size: 1rem; filter: grayscale(100%); transition: 0.3s; }

    @keyframes pulse-ring { 0% { box-shadow: 0 0 20px rgba(0, 204, 255, 0.2); border-color: rgba(100, 215, 244, 0.5); } 100% { box-shadow: 0 0 40px rgba(100, 215, 244, 0.6); border-color: #64D7F4; } }
    @keyframes float-pkmn { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.home-btn {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        
        width: 45px;
        height: 45px;
        background: #222;
        border: 2px solid #fff;
        border-radius: 50%;
        color: #fff;
        font-size: 24px;
        text-decoration: none;
        
        /* FLEXBOX CENTRALIZADO */
        display: flex;
        align-items: center;
        justify-content: center;
        
        /* CORREÇÃO DO ALINHAMENTO */
        padding: 0; /* Remove preenchimento interno padrão */
        padding-bottom: 4px; /* Empurra a seta um pouco para baixo */
        padding-right: 2px; /* Empurra a seta um pouco para a esquerda (visual) */
        line-height: 1; /* Remove altura de linha extra da fonte */
        
        transition: all 0.3s ease;
        z-index: 101;
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    .home-btn:hover {
        background: #fff;
        color: #D92525;
        border-color: #D92525;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        transform: translateY(-50%) scale(1.1);
    }
.evo-stage-row {
        display: flex;
        flex-wrap: wrap; /* Permite quebrar linha se tiver muitos (Eevee) */
        justify-content: center;
        gap: 10px;
        width: 100%;
    }
.mega-overlay {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        z-index: 200; /* Fica na frente de tudo */
        pointer-events: none; /* Deixa clicar através */
        display: none; /* Escondido por padrão */
        justify-content: center; align-items: center;
    }

    .mega-overlay.active { display: flex; }

    .mega-symbol-container {
        position: relative;
        width: 150px; height: 150px;
        animation: mega-enter 2.5s ease-in-out forwards;
    }

    /* Imagem do Mega Ring/Key Stone */
    .mega-icon-img {
        width: 100%; height: 100%; object-fit: contain;
        filter: drop-shadow(0 0 20px #eec4ec);
        z-index: 2; position: relative;
    }

    /* O Brilho Arco-íris da Mega Evolução */
    .mega-ring-glow {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 100px; height: 100px;
        border-radius: 50%;
        box-shadow: 0 0 50px 20px rgba(255, 255, 255, 0.8);
        background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(253,29,29,0) 70%);
        animation: mega-colors 2s linear infinite;
        opacity: 0;
    }

    /* O Flash Branco que cobre a tela */
    .mega-flash {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: white; opacity: 0;
        z-index: 10;
    }

    /* --- KEYFRAMES --- */
    
    /* Sequência completa da entrada */
    @keyframes mega-enter {
        0% { transform: scale(0) rotate(-180deg); opacity: 0; }
        20% { transform: scale(1.2) rotate(0deg); opacity: 1; }
        30% { transform: scale(1); }
        70% { transform: scale(1); opacity: 1; }
        80% { transform: scale(3); opacity: 0; } /* Explode */
        100% { transform: scale(3); opacity: 0; }
    }

    /* Cores pulsantes */
    @keyframes mega-colors {
        0% { box-shadow: 0 0 40px #ff0055; }
        25% { box-shadow: 0 0 40px #0055ff; }
        50% { box-shadow: 0 0 40px #00ff55; }
        75% { box-shadow: 0 0 40px #ffff00; }
        100% { box-shadow: 0 0 40px #ff0055; }
    }

    /* Ativação do flash no final */
    .mega-overlay.active .mega-flash {
        animation: flash-screen 0.5s ease-out 2s forwards; /* Começa no segundo 2 */
    }

    @keyframes flash-screen {
        0% { opacity: 0; }
        50% { opacity: 0.8; }
        100% { opacity: 0; }
    }
.mega-overlay {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        z-index: 9999; pointer-events: none; display: none;
        justify-content: center; align-items: center;
        background: rgba(0,0,0,0.8); /* Fundo escurece */
    }
    .mega-overlay.active { display: flex; pointer-events: all; }

    .mega-symbol-container {
        position: relative; width: 250px; height: 250px;
        animation: mega-enter 2s ease-in-out forwards;
    }
    
    .mega-icon-img {
        width: 100%; height: 100%; object-fit: contain;
        filter: drop-shadow(0 0 30px #eec4ec); position: relative; z-index: 2;
    }

    /* Flash Branco Final */
    .mega-flash {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: white; opacity: 0; z-index: 200;
    }

    @keyframes mega-enter {
        0% { transform: scale(0) rotate(-180deg); opacity: 0; }
        40% { transform: scale(1.2) rotate(0deg); opacity: 1; } /* Surge */
        60% { transform: scale(1); filter: brightness(1.5) drop-shadow(0 0 50px #ff00ff); } /* Pulsa */
        90% { transform: scale(1.5); opacity: 1; }
        100% { transform: scale(4); opacity: 0; } /* Explode na tela */
    }
    
    .mega-overlay.active .mega-flash { animation: flash-screen 0.5s ease-out 1.8s forwards; }
    @keyframes flash-screen { 0% { opacity: 0; } 50% { opacity: 1; } 100% { opacity: 1; } }
.mega-evolve-btn {
        display: none; /* Invisível até o JS detectar Mega */
        background: linear-gradient(90deg, #1a1a1a, #2a002a); 
        border: 2px solid #eec4ec; color: #eec4ec;
        padding: 10px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.9rem;
        cursor: pointer; transition: 0.3s; align-items: center; gap: 8px; width: 100%; justify-content: center;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .mega-evolve-btn:hover {
        background: linear-gradient(90deg, #ff0055, #0055ff);
        border-color: white; color: white;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        transform: scale(1.05);
    }
.original-btn {
        display: none; /* Invisível por padrão */
        background: #1a1a1a; border: 2px solid #64D7F4; color: #64D7F4;
        padding: 10px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.9rem;
        cursor: pointer; transition: 0.3s; align-items: center; gap: 8px; width: 100%; justify-content: center;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .original-btn:hover {
        background: #64D7F4; color: #000;
        box-shadow: 0 0 20px rgba(100, 215, 244, 0.6);
        transform: scale(1.05);
    }
.special-controls {
        display: flex;
        flex-direction: column;
        gap: 12px; /* Espaço igual entre botões */
        padding: 20px;
        align-items: center;
    }

    /* Classe Mestre para TODOS os botões especiais */
    .special-btn {
        width: 100%;
        height: 45px; /* Altura fixa para uniformidade */
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        
        border-radius: 8px;
        font-family: 'Orbitron', sans-serif;
        font-weight: bold;
        font-size: 0.85rem; /* Tamanho de fonte igual */
        text-transform: uppercase;
        letter-spacing: 1px;
        
        background: rgba(0, 0, 0, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
    }
.mega-text-effect {
        /* Gradiente Keystone: Rosa, Azul, Amarelo, Branco */
        background: linear-gradient(
            to right, 
            #ff00cc, 
            #3333ff, 
            #00ccff, 
            #ffcc00, 
            #ff00cc
        );
        background-size: 200% auto;
        color: #fff; /* Fallback */
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine-text 3s linear infinite;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.4); /* Brilho externo */
        font-weight: 800;
        letter-spacing: 2px;
    }

    @keyframes shine-text {
        to {
            background-position: 200% center;
        }
    }
.scene-container {
        position: fixed;
        top: 0; left: 0; width: 100vw; height: 100vh;
        
        /* Fundo Radial */
        background: radial-gradient(circle at center, rgba(20, 30, 40, 0.274) 0%, #05050531 100%), 
                    url('/static/img/v1.webp'); 
        background-size: cover; 
        background-position: center;
        
        display: flex;
        justify-content: center;
        align-items: center;     
        z-index: 0;
    }

    /* --- ELEMENTOS DE FUNDO --- */
    .pokeball-pattern {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        background-size: 60px 60px; opacity: 0.06; 
        animation: move-bg 10s linear infinite; z-index: 0;
    }
    @keyframes move-bg { 0% { background-position: 0 0; } 100% { background-position: 100px 100px; } }

    .scanlines {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px; pointer-events: none; opacity: 0.3; z-index: 10;
    }

    /* Linha do Horizonte (Neon) */
    .neon-horizon {
        position: absolute; top: 50%; left: 0; width: 100%; height: 2px;
        background: #64D7F4;
        box-shadow: 0 0 15px #64D7F4;
        z-index: 1; opacity: 0.7;
    }

    /* --- PERSONAGEM --- */
    .character-img {
        position: absolute; bottom: 0; left: 5vw;
        height: 75vh; z-index: 2; 
        filter: drop-shadow(0 0 20px rgba(0,0,0,0.6));
    }

    /* --- MENU PRINCIPAL (POSICIONAMENTO AJUSTADO) --- */
 .holo-menu {
    /* MUDANÇA PRINCIPAL: Position Absolute para poder esticar */
    position: absolute;
    z-index: 10;
    width: 1000px;

    /* ANCORAGEM VERTICAL */
    top: 0; /* Cola no topo da tela */
    
    /* AJUSTE ESTE VALOR: Esta é a altura onde o menu para. 
       Deve ser a mesma altura do seu balcão + borda. 
       Chutei 120px, se sobrar espaço ou entrar no balcão, ajuste aqui. */
    bottom: 120px; 

    /* Posicionamento Horizontal (mantendo o seu) */
    margin-left: 11%;
    /* margin-bottom: 450px;  <- REMOVIDO, pois agora usamos 'top' e 'bottom' */

    /* O QUADRO VISUAL (Mantido) */
    background: rgba(13, 17, 23, 0.7);
    border: 2px solid #64D7F4;
    border-bottom: none; /* Remove a borda de baixo para fundir com o balcão */

    /* A FORMA: Ajustada para topo quadrado (já que encosta na tela) e fundo arredondado */
    border-radius: 0 0 30px 30px;

    /* Padding ajustado (menos espaço em cima pois não tem mais a curva gigante) */
    padding: 30px 40px 30px 40px;
    
    backdrop-filter: blur(10px);
    box-shadow: 0 0 30px rgba(100, 215, 244, 0.15);
    
    /* Garante que o conteúdo dentro se espalhe bem */
    display: flex;
    flex-direction: column;
    justify-content: flex-start; /* Conteúdo começa do topo */
}
    /* Ajuste do Título para caber na curva */
    .holo-title {
        text-align: center; color: #fff; font-family: 'Orbitron', sans-serif;
        text-transform: uppercase; letter-spacing: 6px; 
        margin-bottom: 40px; margin-top: 10px;
        font-size: 1.8rem; font-weight: 800;
        text-shadow: 0 0 15px #64D7F4;
        border-bottom: 2px solid #D92525;
        padding-bottom: 15px;
    }

    /* --- O BOTÃO KALOS (CELULAR DEITADO) --- */
.kalos-btn {
        position: relative; display: flex; flex-direction: row; 
        align-items: center; justify-content: center; gap: 20px; 
        
        width: 100%; /* Ocupa toda a largura */
        height: 75px; /* Altura confortável */
        text-decoration: none;
        
        background: rgba(100, 215, 244, 0.1); 
        box-shadow: inset 0 0 15px rgba(100, 215, 244, 0.2);
        border-left: 4px solid #D92525; border-right: 4px solid #D92525;
        
        color: #fff; font-family: 'Orbitron', sans-serif; font-weight: bold;
        text-transform: uppercase; font-size: 1.2rem; letter-spacing: 3px;
        text-shadow: 0 0 5px rgba(100, 215, 244, 0.8);
        
        transition: all 0.2s ease;
    }

    /* Barras Vermelhas (Topo e Base) */
    .kalos-btn::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: #D92525; border-bottom: 2px solid #222; }
    .kalos-btn::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px; background: #D92525; border-top: 2px solid #222; }

    .kalos-btn span { font-size: 1.5rem; filter: drop-shadow(0 0 5px #64D7F4); }

    .kalos-btn:hover {
        background: rgba(100, 215, 244, 0.4); 
        transform: scale(1.02); /* Cresce levemente */
        border-color: #64D7F4;
        box-shadow: 0 0 25px rgba(100, 215, 244, 0.5);
    }
    .kalos-btn:hover::before, .kalos-btn:hover::after { background: #ff4d4d; border-color: #64D7F4; }

    @keyframes float-horizontal {
        0% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
        100% { transform: translateY(0); }
    }

    .col-6:nth-child(1) .kalos-btn { animation-delay: 0s; }
    .col-6:nth-child(2) .kalos-btn { animation-delay: 0.5s; }
    .col-6:nth-child(3) .kalos-btn { animation-delay: 1s; }
    .col-6:nth-child(4) .kalos-btn { animation-delay: 1.5s; }

    /* --- BALCÃO INFERIOR (AJUSTADO) --- */
    .counter-desk {
        position: absolute; bottom: 0; width: 100%; height: 10vh;
        background: #D92525; z-index: 3;
        
        /* AJUSTE 3: LINHA SUPERIOR MAIS GROSSA */
        border-top: 10px solid #222; /* Aumentado de 8px para 12px */
        
        display: flex; justify-content: center; align-items: center;
        
    }

    .pokeball-logo {
        width: 70px; height: 70px;
        background: #222; border: 4px solid #64D7F4; border-radius: 50%;
        position: relative; margin-top: -3px; /* Sobe metade */
        box-shadow: 0 0 20px #64D7F4;
        z-index: 4;
    }
    .pokeball-logo::after {
        content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 25px; height: 25px; background: #64D7F4; border-radius: 50%;
        animation: pulse-logo 2s infinite;
    }
    @keyframes pulse-logo { 0% { box-shadow: 0 0 0 0 rgba(100,215,244,0.7); } 70% { box-shadow: 0 0 0 10px rgba(100,215,244,0); } 100% { box-shadow: 0 0 0 0 rgba(100,215,244,0); } }
.interface-wrapper {
        position: absolute;
        top: 50%; 
        left: 55%; /* Ajuste a posição horizontal aqui */
        transform: translate(-50%, -50%); /* Centraliza exato no ponto */
        
        display: flex;
        flex-direction: column; /* FORÇA UM EMBAIXO DO OUTRO */
        align-items: center;    /* FORÇA CENTRALIZAÇÃO */
        
        width: 600px;
        z-index: 20;
    }
.holo-pokeball-top {
        width: 90px; height: 90px;
        background: linear-gradient(135deg, #D92525 20%, #1a1a1a 50%, #64D7F4 80%);
        border: 4px solid #64D7F4; border-radius: 50%;
        box-shadow: 0 0 40px #64D7F4;
        margin-bottom: -45px; /* Enterra metade no menu */
        z-index: 25; /* Fica na frente da borda do menu */
        position: relative;
        animation: pulse-orb 3s infinite alternate;
    }
.holo-pokeball-top::after {
        content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 30px; height: 30px; background: #fff; border-radius: 50%;
        box-shadow: 0 0 15px #fff;
    }
    @keyframes pulse-orb { to { box-shadow: 0 0 70px #64D7F4; } }
.rotom-container {
        margin-top: 380px;
        margin-right: 130px;
        display: flex;
        justify-content: center;
        z-index: 19;
    }
    .rotom-img {
        width: 400px;
        filter: drop-shadow(0 0 15px rgba(100, 215, 244, 0.8));
        animation: rotom-hover 4s ease-in-out infinite;
    }
    @keyframes rotom-hover {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
.battledex-logo-container {
        width: 100%;
        text-align: center;
        background: rgba(13, 17, 23, 0.85);
        border: 3px solid #64D7F4;
        border-radius: 15px;
        padding: 15px;
        backdrop-filter: blur(10px);
        box-shadow: 0 0 40px rgba(100, 215, 244, 0.3);
        
        /* Animação de entrada */
        animation: slide-down 1s ease-out;
    }

    .battledex-logo-text {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.5rem; /* Fonte Gigante */
        font-weight: 900;
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 8px;
        text-shadow: 0 0 20px #64D7F4, 0 0 40px #64D7F4;
        margin: 0;
    }
.image-container {
        position: relative;
        height: 150px; /* Aumentei um pouco para dar respiro */
        width: 100%;
        display: flex;
        align-items: flex-end; /* Alinha tudo na base */
        justify-content: center;
        perspective: 600px;
        z-index: 1; /* Cria contexto de empilhamento */
    }

    /* --- O PISO (Pokébola) - CAMADA DE TRÁS --- */
.pokeball-floor {
        position: absolute;
        bottom: -25px; /* Posição ajustada */
        left: 50%;
        transform: translateX(-50%) rotateX(75deg); /* Achatamento 3D */
        
        width: 110px; 
        height: 120px;
        border-radius: 50%;
        
        /* 1. O FUNDO VERMELHO E BRANCO (O que estava faltando) */
        background: linear-gradient(to bottom, rgba(255, 0, 0, 0.993) 50%, rgb(255, 255, 255) 50%);
        
        /* Borda Externa Neon */
        border: 2px solid #1cfff4a8; 
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.3);
        
        z-index: 0; 
        pointer-events: none;
    }

    /* --- DETALHES INTERNOS (Centro Preto + Linhas Azuis) --- */
    .pokeball-floor::after {
        content: ''; 
        position: absolute; 
        top: 0; left: 0; 
        width: 100%; height: 100%;
        border-radius: 50%;
        
        /* 2. CENTRO PRETO + ARO NEON + LINHA HORIZONTAL */
        background: 
            /* Miolo: Preto (#222) -> Borda Azul -> Transparente */
            radial-gradient(circle at center, #353535 18%, #757575 19%, #e2e2e2 23%, transparent 24%),
            
            /* Faixa: Transparente -> Azul -> Transparente */
            linear-gradient(to bottom, transparent 46%, #4e4e4e 46%, #8b8b8b 54%, transparent 54%);
            
        opacity: 1;
        filter: drop-shadow(0 0 2px #64D7F4);
    }
.pokemon-card img.primary-img {
        position: relative;
        width: 100px; 
        height: 100px;
        object-fit: contain;
        image-rendering: pixelated;
        
        /* IMPORTANTE: */
        z-index: 10; /* Garante que fique NA FRENTE do chão */
        margin-bottom: 25px; /* Empurra o Pokémon pra cima para ele "flutuar" sobre o aro */
        
        
        animation: float-card 3s ease-in-out infinite;
    }