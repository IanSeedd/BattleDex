@import url('https://fonts.googleapis.com/css2?family=Montserrat:wght@600;700;800&family=Roboto:wght@400;500;700&display=swap');
body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    background: linear-gradient(135deg, #59d0ff9a 0%, #16353e 100%);
    margin: 0;
    padding: 20px;
    min-height: 100vh;
    overflow-y: auto !important;

    background-color: transparent !important;
}
html, body {
        /* Libera a rolagem vertical */
        overflow-y: auto !important; 
        
        /* Permite que a página cresça além do tamanho da tela */
        height: auto !important; 
        min-height: 100vh;

        /* Remove cor de fundo para ver a imagem */
        background-color: transparent !important; 
        margin: 0; padding: 0;
    }
.container {
    max-width: 1400px;          
    margin: 0 auto;
}

h1 {
    text-align: center;
    color: white;
    font-size: 2.8rem;
    margin-bottom: 10px;
    text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.total {
    text-align: center;
    color: #4fc3f7;
    font-size: 1.3rem;
    margin-bottom: 30px;
    font-weight: bold;
}

.error {
    background: rgba(244, 67, 54, 0.2);
    color: #ff6b6b;
    padding: 15px;
    border-radius: 8px;
    text-align: center;
    margin: 20px auto;
    max-width: 500px;
    border: 1px solid #ff6b6b;
}

.empty {
    grid-column: 1 / -1;
    text-align: center;
    color: white;
    font-size: 1.3rem;
    padding: 50px;
}

.pokemon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(160px, 1fr));
        gap: 20px;
    }

    .pokemon-card {
        background: rgba(20, 20, 30, 0.85); /* Escuro translúcido */
        border: 1px solid #333;
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
        
    }

    .pokemon-card:hover {
        transform: translateY(-5px);
        border-color: #64D7F4;
        box-shadow: 0 5px 15px rgba(100, 215, 244, 0.2);
        background: rgba(30, 30, 50, 0.95);
    }

    .pokemon-number {
        color: #666;
        font-size: 0.9rem;
        font-weight: bold;
        background: rgba(0,0,0,0.5);
        border-radius: 10px;
        padding: 2px 8px;
        display: inline-block;
        margin-bottom: 10px;
    }

    .pokemon-card img {
        width: 120px;
        height: 120px;
        object-fit: contain;
        transition: transform 0.3s;
    }

    .pokemon-card:hover img {
        transform: scale(1.1);
    }

    .pokemon-name {
        color: white;
        font-weight: bold;
        margin-top: 10px;
        text-transform: capitalize;
        font-size: 1.1rem;
    }

    /* --- 4. FOOTER ROTOM (Barra de Pesquisa) --- */
    .rotom-footer {
        position: fixed;
        bottom: 0;
        left: 0;
        width: 100%;
        height: 80px;
        background: #D92525; /* Vermelho */
        border-top: 6px solid #222; /* Borda Preta Robusta */
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100;
        box-shadow: 0 -5px 20px rgba(0,0,0,0.5);
    }

    /* Linha Neon Azul no Footer */
    .footer-neon-line {
        position: absolute;
        top: -3px; /* Fica dentro da borda preta */
        width: 60%;
        height: 3px;
        background: #64D7F4;
        box-shadow: 0 0 10px #64D7F4;
        border-radius: 2px;
    }

    /* Input de Pesquisa Estilizado */
    .search-container {
        position: relative;
        width: 90%;
        max-width: 600px;
    }

    .rotom-search {
        width: 100%;
        padding: 12px 20px;
        padding-left: 45px; /* Espaço para o ícone */
        border-radius: 30px;
        border: 3px solid #222;
        background: #fff;
        font-family: 'Orbitron', sans-serif;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s;
        color: #333;
    }

    .rotom-search:focus {
        border-color: #64D7F4;
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.5);
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
    }
.scene-container {
        position: fixed; /* Isso tira o elemento do fluxo normal e ignora margens do base.html */
        top: 0;
        left: 0;
        width: 100vw; /* 100% da largura da viewport */
        height: 100vh; /* 100% da altura da viewport */
        
        display: flex;
        justify-content: center;
        align-items: flex-end;

        /* Imagem de Fundo */
        background: linear-gradient(rgba(0,0,0,0.6), rgba(0,0,0,0.2)), url('/static/img/v1.webp'); 
        background-size: cover; /* Garante que a imagem cubra tudo sem esticar */
        background-position: center;
        background-repeat: no-repeat;
        
        z-index: 0; /* Fica no fundo */
    }


    

    /* --- BALCÃO --- */
    .counter-desk {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 15vh;
        background: #D92525;
        z-index: 2;
        border-top: 5px solid #333;
        box-shadow: 0px -5px 20px rgba(217, 37, 37, 0.5);
        display: flex;
        justify-content: center;
        align-items: center;
        border-top-left-radius: 50% 20%;
        border-top-right-radius: 50% 20%;
    }

    .counter-deco {
        width: 80%;
        height: 5px;
        border-radius: 10px;
    }

    /* --- MENU HOLOGRÁFICO --- */
    .holo-menu {
        position: absolute;
        top: 15%;
        z-index: 3;
        width: 100%;
        max-width: 600px;
        text-align: center;
    }

    /* Mantive o resto do estilo do menu igual ao anterior */
    .holo-card {
        background: rgba(13, 17, 23, 0.85);
        border: 2px solid #D92525;
        border-radius: 20px;
        padding: 30px;
        backdrop-filter: blur(5px);
        box-shadow: 0 0 15px rgba(217, 37, 37, 0.3);
        clip-path: polygon(10% 0, 100% 0, 100% 90%, 90% 100%, 0 100%, 0 10%);
    }

    .holo-title {
        color: #64D7F4;
        text-transform: uppercase;
        letter-spacing: 2px;
        margin-bottom: 20px;
        text-shadow: 0 0 5px #64D7F4;
    }

    .btn-poke {
        background: transparent;
        border: 1px solid #64D7F4;
        color: #fff;
        width: 100%;
        padding: 12px;
        margin-bottom: 10px;
        border-radius: 5px;
        text-transform: uppercase;
        font-weight: bold;
        transition: all 0.3s;
        display: block; 
        text-decoration: none; 
    }

    .btn-poke:hover {
        background: #64D7F4;
        color: #000;
        box-shadow: 0 0 15px #64D7F4;
        transform: scale(1.02);
    }

    .scanlines {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px;
        z-index: 10;
        pointer-events: none;
        opacity: 0.3;
    }
.btn-sound {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(13, 17, 23, 0.9);
            border: 2px solid #D92525;
            color: #D92525;
            font-size: 24px;
            z-index: 9999; /* Z-index alto para ficar acima de tudo */
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            outline: none;
        }

       .btn-sound {
            position: fixed;
            top: 20px;
            right: 20px;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            background: rgba(13, 17, 23, 0.9);
            border: 2px solid #D92525;
            color: #D92525;
            font-size: 24px;
            
            /* CORREÇÃO AQUI: Garante que nada cubra o botão */
            z-index: 999999 !important; 
            pointer-events: auto !important;
            
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            outline: none;
        }

        .btn-sound.playing {
            border-color: #64D7F4;
            color: #64D7F4;
            box-shadow: 0 0 10px rgba(100, 215, 244, 0.3);
            animation: pulse-sound 2s infinite;
        }

        .btn-sound.playing:hover {
            background: #64D7F4;
            color: black;
        }

        @keyframes pulse-sound {
            0% { box-shadow: 0 0 0 0 rgba(100, 215, 244, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(100, 215, 244, 0); }
            100% { box-shadow: 0 0 0 0 rgba(100, 215, 244, 0); }
        }

    /* --- CONFIGURAÇÃO DA TELA (FullScreen) --- */
    body, html {
        margin: 0 !important;
        padding: 0 !important;
        width: 100%;
        height: 100%;
        overflow: hidden;
        background-color: #000;
    }

    .scene-container {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        /* Fundo com gradiente suave azulado típico de Kalos */
        background: radial-gradient(circle at center, rgba(100, 215, 244, 0.1) 0%, rgba(0, 0, 0, 0.226) 100%), 
                    url('/static/img/v1.webp'); 
        background-size: cover;
        background-position: center;
        z-index: 0;
    }


    /* --- BALCÃO VERMELHO (CORRIGIDO) --- */
    .counter-desk {
        position: absolute;
        bottom: 0;
        width: 100%;
        height: 15vh;
        background: #D92525; /* Vermelho */
        z-index: 2;
        
        /* CORREÇÃO: Removi a borda cinza (border-top) */
        border-top: none; 
        

      
        border: 8px solid #222; 
      
        border-bottom: none; 
        
        box-sizing: border-box;



        /* Curva suave */
        border-top-left-radius: 50% 20%;
        border-top-right-radius: 50% 20%;
        
        display: flex;
        justify-content: center;
        align-items: center;
        box-shadow: 0px -10px 30px rgba(0,0,0,0.5);
    }

    /* Linha de néon azul no balcão */
    .counter-deco {
        position: absolute;
        /* Mudei de 25px para 45px (empurrei bem mais para baixo) */
        top: 45px; 
        width: 90%;
        height: 6px; /* Aumentei um tiquinho a espessura */
        border-radius: 10px;
        z-index: 4; /* Garante que fique atrás da bola se sobrepor */
    }

    /* --- LOGO DA POKÉBOLA (REALINHADA) --- */
    .pokeball-logo {
        position: relative;
        /* CALCULO MATEMÁTICO DO ALINHAMENTO:
           Se a linha está em 45px (top) e a bola tem 80px de altura:
           O centro da bola é 40px. 
           Para o centro (40px) ficar na linha (45px), o topo da bola tem que começar em 5px.
           Como o flexbox joga ela pro topo 0, usamos margin-top: 5px.
        */
        margin-top: 5px; 
        
        width: 80px;
        height: 80px;
        border: 4px solid #64D7F4; 
        border-radius: 50%;
        background: #D92525; 
        z-index: 5; /* Fica na frente da linha */
        box-shadow: 0 0 20px rgba(100, 215, 244, 0.4);
    }

    /* Linha horizontal da pokébola */
    .pokeball-logo::before {
        content: '';
        position: absolute;
        top: 50%; left: 0;
        width: 100%; height: 4px;
        background: #64D7F4;
        transform: translateY(-50%);
    }

    /* Botão central da pokébola */
    .pokeball-logo::after {
        content: '';
        position: absolute;
        top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 25px; height: 25px;
        background: #D92525;
        border: 4px solid #64D7F4;
        border-radius: 50%;
        box-shadow: inset 0 0 5px #64D7F4;
    }

    /* --- MENU KALOS (DIREITA) --- */
    .holo-menu {
        position: absolute;
        top: 0%;
        right: 5vw; /* Jogado para a DIREITA */
        width: 450px; /* Largura fixa para os painéis */
        z-index: 3;
        /* Removi o background geral (.holo-card) para ficarem separados */
    }

    .holo-title {
        text-align: right;
        color: #fff;
        font-family: 'Orbitron', sans-serif;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 30px;
        font-weight: 700;
        letter-spacing: 2px;
    }

    /* BOTÕES ESTILO KALOS (QUADRADOS SEPARADOS) */
/* --- BOTÕES ESTILO KALOS (ABERTOS/TELA EXPOSTA) --- */
    .kalos-btn {
        display: flex;
        align-items: center;
        justify-content: center;
        flex-direction: column;
        
        height: 140px; /* Um pouco mais alto para caber as tampas */
        margin-bottom: 20px;
        position: relative;
        overflow: hidden;
        
        /* A TELA (MEIO) */
        /* Fundo azul claro transparente simulando vidro/holograma */
        background: rgba(200, 245, 255, 0.9); 
        
        /* Laterais vermelhas finas conectando as peças */
        border-left: 3px solid #D92525;
        border-right: 3px solid #D92525;
        border-radius: 15px; /* Cantos arredondados */

        /* Texto Escuro para contraste na tela clara */
        color: #00566b; 
        text-decoration: none;
        font-size: 1.1rem;
        font-weight: 800; /* Extra bold */
        text-transform: uppercase;
        
        box-shadow: 0 10px 20px rgba(0,0,0,0.5);
        transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        
        /* Espaço interno para o texto não bater nas tampas */
        padding-top: 30px; 
        padding-bottom: 20px;
    }

    /* --- TAMPA SUPERIOR VERMELHA --- */
    .kalos-btn::before {
        content: '';
        position: absolute;
        top: 0; left: 0;
        width: 100%; 
        height: 35px; /* Altura da tampa */
        background: #D92525; /* Vermelho Kalos */
        border-bottom: 4px solid #222; /* Divisória escura */
        z-index: 2;
        
        /* O SENSOR (O olho azul na parte vermelha) */
        /* Feito com gradiente para não precisar de mais elementos */
        background-image: radial-gradient(circle at 50% 100%, #64D7F4 6px, #222 7px, #222 10px, transparent 11px);
    }

    /* --- TAMPA INFERIOR VERMELHA --- */
    .kalos-btn::after {
        content: '';
        position: absolute;
        bottom: 0; left: 0;
        width: 100%; 
        height: 25px; 
        background: #D92525;
        border-top: 4px solid #222;
        z-index: 2;
        
        /* Detalhe curvo na parte de baixo */
        background-image: radial-gradient(circle at 50% 0%, transparent 8px, #D92525 9px);
    }

    /* Ajuste do Ícone e Texto */
    .kalos-btn span {
        font-size: 2.2rem;
        margin-bottom: 2px;
        display: block;
        position: relative;
        z-index: 1;
        /* Sombra no ícone para destacar na tela clara */
        filter: drop-shadow(0 2px 3px rgba(0,0,0,0.2));
    }

    /* Efeito Hover: A tela "acende" */
    .kalos-btn:hover {
        background: #fff; /* Fica branco brilhante */
        box-shadow: 0 0 25px rgba(100, 215, 244, 0.6); /* Brilho azul externo */
        transform: scale(1.03);
        border-color: #ff4d4d;
        color: #000;
    }
    /* Scanlines (Efeito de TV) */
    .scanlines {
        position: fixed;
        top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px;
        z-index: 10;
        pointer-events: none;
        opacity: 0.2;
    }
@keyframes move-pattern {
        0% {
            background-position: 0 0;
        }
        100% {
            /* Move 100px para a direita e 100px para baixo */
            /* Isso cria o efeito diagonal */
            background-position: 100px 100px; 
        }
    }

    /* 2. A camada que vai ter as pokébolas */
    .pokeball-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        
        /* Substitua o URL abaixo pela imagem da sua mini-pokebola */
        /* Estou usando um ícone de exemplo da internet para você ver funcionando agora */
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        position: fixed; /* MUDANÇA: 'fixed' para acompanhar a tela */
        /* Tamanho da pokébola (ajuste conforme a imagem que você escolher) */
        background-size: 50px 50px; 
        
        /* Opacidade bem baixa para não brigar com o menu (efeito marca d'água) */
        opacity: 0.05; 
        
        /* Aplica a animação: nome, duração, curva linear (sem parar), infinita */
        animation: move-pattern 4s linear infinite;
        
        z-index: -1; /* Fica acima do fundo (0), mas abaixo da Joy (2) */
        pointer-events: none; /* Deixa clicar através dele */
    }

    /* --- AJUSTE DE Z-INDEX DOS OUTROS ELEMENTOS --- */
    /* Precisamos garantir que o resto fique ACIMA do padrão animado */
    
    .character-img { z-index: 2; } /* Joy na frente do padrão */
    .counter-desk { z-index: 3; }  /* Balcão na frente da Joy */
    .holo-menu { z-index: 4; }     /* Menu na frente de tudo */
body {
        /* Permite rolagem nesta página */
        overflow-y: auto !important; 
        background-color: #0d1117;
    }  
/* Container para o fundo não rolar junto com a página */
    .fixed-background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: -1; /* Fica atrás de tudo */
        
        /* Imagem de Fundo */
        background: url('{% static "img/v1.webp" %}');
        background-size: cover;
        background-position: center;
    }

    /* A animação das pokébolas (reaproveitada) */
    .pokeball-pattern {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Pok%C3%A9_Ball_icon.svg/1024px-Pok%C3%A9_Ball_icon.svg.png');
        background-size: 50px 50px; 
        opacity: 0.05; 
        animation: move-pattern 10s linear infinite;
    }

    @keyframes move-pattern {
        0% { background-position: 0 0; }
        100% { background-position: 100px 100px; }
    }

    /* --- 2. ÁREA DE CONTEÚDO --- */
    .pokedex-container {
        padding-top: 40px;
        /* Espaço extra embaixo para o footer não cobrir os últimos pokémons */
        padding-bottom: 120px; 
        position: relative;
        z-index: 1;
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        color: white;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 10px;
    }

    .total-counter {
        color: #64D7F4;
        font-weight: bold;
        margin-bottom: 30px;
        background: rgba(0,0,0,0.5);
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        border: 1px solid #64D7F4;
    }    
.fixed-background {
        position: fixed;
        top: 0; left: 0;
        width: 100vw; height: 100vh;
        z-index: -2; 
        background: url('{% static "img/v1.webp" %}');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    .pokeball-pattern {
        position: absolute;
        top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        background-size: 50px 50px; 
        opacity: 0.05; 
        animation: move-pattern 10s linear infinite;
    }

    @keyframes move-pattern {
        0% { background-position: 0 0; }
        100% { background-position: 100px 100px; }
    }

    /* --- 2. HEADER ROTOM --- */
    .rotom-header {
        position: fixed;
        top: 0; left: 0;
        width: 100%;
        height: 80px;
        background: #D92525;
        border-bottom: 6px solid #222; 
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 100; 
        box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .header-neon-line {
        position: absolute;
        bottom: -3px; 
        width: 60%;
        height: 3px;
        background: #64D7F4;
        box-shadow: 0 0 10px #64D7F4;
        border-radius: 2px;
    }

    .search-container {
        position: relative;
        width: 90%;
        max-width: 600px;
    }

    .rotom-search {
        width: 100%;
        padding: 12px 20px;
        padding-left: 45px;
        border-radius: 30px;
        border: 3px solid #222;
        background: #fff;
        font-family: 'Orbitron', sans-serif;
        font-size: 1rem;
        outline: none;
        transition: all 0.3s;
        color: #333;
    }

    .rotom-search:focus {
        border-color: #64D7F4;
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.5);
    }

    .search-icon {
        position: absolute;
        left: 15px;
        top: 50%;
        transform: translateY(-50%);
        font-size: 1.2rem;
        color: #222;
    }

    /* --- 3. ÁREA DE CONTEÚDO --- */
    .pokedex-container {
        padding-top: 140px; 
        padding-bottom: 40px; 
        position: relative;
        z-index: 1; 
    }

    h1 {
        font-family: 'Orbitron', sans-serif;
        color: white;
        text-shadow: 0 0 10px #64D7F4;
        margin-bottom: 10px;
    }

    .total-counter {
        color: #64D7F4;
        font-weight: bold;
        margin-bottom: 30px;
        background: rgba(0,0,0,0.5);
        display: inline-block;
        padding: 5px 15px;
        border-radius: 20px;
        border: 1px solid #64D7F4;
    }

    /* --- 4. CARDS --- */
    .pokemon-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(180px, 1fr));
        gap: 20px;
    }

    .pokemon-card {
        background: rgba(15, 15, 25, 0.4); 
        backdrop-filter: blur(5px); 
        border: 1px solid rgba(255, 255, 255, 0.1);
        border-radius: 15px;
        padding: 15px;
        text-align: center;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    .pokemon-card:hover {
        transform: translateY(-5px);
        border-color: #64D7F4;
        background: rgba(30, 30, 50, 0.7); 
        box-shadow: 0 5px 15px rgba(100, 215, 244, 0.2);
    }

    .pokemon-number {
        color: #ccc;
        font-size: 0.8rem;
        font-weight: bold;
        background: rgba(0,0,0,0.5);
        border-radius: 10px;
        padding: 2px 8px;
        display: inline-block;
        margin-bottom: 5px;
    }

    .image-container {
        height: 120px;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    /* Ajuste para Pixel Art ficar nítida */
    .pokemon-card img.primary-img {
        width: 96px; /* GIFs geralmente são menores, não estique muito */
        height: 96px;
        object-fit: contain;
        
        transition: transform 0.3s;
        
        /* IMPORTANTE: Mantém o pixel art nítido */
        image-rendering: pixelated; 
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
    }

    .pokemon-card:hover img.primary-img {
        transform: scale(1.2);
    }

    .pokemon-name {
        color: white;
        font-weight: bold;
        margin-top: 5px;
        text-transform: capitalize;
        font-size: 1.1rem;
    }

    /* --- 5. ÍCONES DE TIPO --- */
    .types-container {
        display: flex;
        justify-content: center;
        gap: 8px; 
        margin-top: 10px;
        min-height: 30px; 
    }

    .type-badge {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        box-shadow: 0 2px 5px rgba(0,0,0,0.3);
        border: 1px solid rgba(255,255,255,0.2);
    }
    
    .type-badge img {
        width: 60%;
        height: 60%;
        filter: drop-shadow(0 1px 2px rgba(0,0,0,0.5));
    }

    /* Cores dos Tipos */
    .type-normal { background-color: #A8A77A; }
    .type-fire { background-color: #EE8130; }
    .type-water { background-color: #6390F0; }
    .type-electric { background-color: #F7D02C; }
    .type-grass { background-color: #7AC74C; }
    .type-ice { background-color: #96D9D6; }
    .type-fighting { background-color: #C22E28; }
    .type-poison { background-color: #A33EA1; }
    .type-ground { background-color: #E2BF65; }
    .type-flying { background-color: #A98FF3; }
    .type-psychic { background-color: #F95587; }
    .type-bug { background-color: #A6B91A; }
    .type-rock { background-color: #B6A136; }
    .type-ghost { background-color: #735797; }
    .type-dragon { background-color: #6F35FC; }
    .type-dark { background-color: #705746; }
    .type-steel { background-color: #B7B7CE; }
    .type-fairy { background-color: #D685AD; }


.fixed-background {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -2;
        background: url('{% static "img/v1.webp" %}');
        background-size: cover; background-position: center;
    }

    /* --- HEADER --- */
    .detail-header {
        position: fixed; top: 0; width: 100%; height: 60px;
        background: #D92525; border-bottom: 5px solid #222;
        display: flex; align-items: center; padding: 0 30px;
        z-index: 100; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .back-btn {
        background: #222; color: #fff; border: 2px solid #fff;
        padding: 6px 20px; border-radius: 30px; text-decoration: none;
        font-weight: bold; font-family: 'Orbitron'; transition: 0.3s;
        display: flex; align-items: center; gap: 10px; font-size: 0.9rem;
    }
    .back-btn:hover { background: #fff; color: #D92525; border-color: #D92525; }

    /* --- LAYOUT --- */
    .pokedex-detail-wrapper {
        padding-top: 80px; padding-bottom: 40px;
        max-width: 1400px; margin: 0 auto;
        display: grid;
        grid-template-columns: 280px 1fr 320px; 
        gap: 20px; position: relative; z-index: 1; align-items: start;
    }

    /* --- PAINÉIS --- */
    .panel-box {
        background: rgba(15, 15, 25, 0.85); backdrop-filter: blur(12px);
        border: 2px solid #333; border-radius: 15px;
        padding: 15px; margin-bottom: 15px;
        color: white; box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        position: relative; overflow: hidden;
    }
    .panel-box::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
        background: linear-gradient(90deg, #D92525, #64D7F4);
    }

    .desc-box h3, .evo-box h3, .moves-box h3 {
        color: #64D7F4; font-family: 'Orbitron'; font-size: 1rem; margin-bottom: 10px;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .flavor-text { font-size: 0.9rem; line-height: 1.5; color: #ddd; font-style: italic; }

    /* --- EVOLUÇÃO --- */
    .evo-chain { display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; }
    .evo-arrow { color: #D92525; font-size: 1.2rem; }
    .evo-img-wrapper {
        position: relative; cursor: pointer; transition: 0.3s;
        background: rgba(255,255,255,0.05); border-radius: 50%; padding: 5px; border: 1px solid transparent;
    }
    .evo-img-wrapper:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: scale(1.1); }
    .evo-img { width: 60px; height: 60px; object-fit: contain; image-rendering: pixelated; }

    /* --- CENTRO --- */
    .center-stage { display: flex; flex-direction: column; align-items: center; }

    .pkmn-header { display: flex; align-items: center; justify-content: center; gap: 20px; width: 100%; position: relative; }
    .pkmn-name { font-family: 'Orbitron'; font-size: 2.8rem; color: white; text-shadow: 0 0 20px rgba(100, 215, 244, 0.6); text-transform: capitalize; margin: 0; line-height: 1; }
    .pkmn-id-badge {
        background: #222; color: #D92525; font-weight: bold; font-family: 'Orbitron';
        padding: 4px 12px; border-radius: 8px; border: 1px solid #D92525; font-size: 0.9rem; margin-bottom: 5px;
    }
    .nav-btn {
        background: rgba(0,0,0,0.6); border: 2px solid #555; color: #fff; width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 1.5rem; transition: 0.3s;
    }
    .nav-btn:hover { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px #64D7F4; }

    /* --- TIPOS CORRIGIDOS (SÓ ÍCONES) --- */
    .types-row { display: flex; gap: 15px; margin-top: 10px; height: 50px; align-items: center; }
    
    .type-badge {
        width: 45px; height: 45px; /* Tamanho fixo e redondo */
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        border: 2px solid rgba(255,255,255,0.3);
        transition: transform 0.3s;
    }
    .type-badge:hover { transform: scale(1.1); }
    
    .type-icon { width: 28px; height: 28px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)); }

    /* Cores dos Tipos (Fundo das bolinhas) */
    .bg-type-fire { background: linear-gradient(135deg, #f08030 0%, #c03028 100%); }
    .bg-type-water { background: linear-gradient(135deg, #6890f0 0%, #3860b0 100%); }
    .bg-type-grass { background: linear-gradient(135deg, #78c850 0%, #489030 100%); }
    .bg-type-electric { background: linear-gradient(135deg, #f8d030 0%, #c09008 100%); }
    .bg-type-ice { background: linear-gradient(135deg, #98d8d8 0%, #68a0a0 100%); }
    .bg-type-fighting { background: linear-gradient(135deg, #c03028 0%, #801008 100%); }
    .bg-type-poison { background: linear-gradient(135deg, #a040a0 0%, #702070 100%); }
    .bg-type-ground { background: linear-gradient(135deg, #e0c068 0%, #a08038 100%); }
    .bg-type-flying { background: linear-gradient(135deg, #a890f0 0%, #7860c0 100%); }
    .bg-type-psychic { background: linear-gradient(135deg, #f85888 0%, #c02050 100%); }
    .bg-type-bug { background: linear-gradient(135deg, #a8b820 0%, #788810 100%); }
    .bg-type-rock { background: linear-gradient(135deg, #b8a038 0%, #887018 100%); }
    .bg-type-ghost { background: linear-gradient(135deg, #705898 0%, #403068 100%); }
    .bg-type-dragon { background: linear-gradient(135deg, #7038f8 0%, #4008c8 100%); }
    .bg-type-dark { background: linear-gradient(135deg, #705848 0%, #403028 100%); }
    .bg-type-steel { background: linear-gradient(135deg, #b8b8d0 0%, #888890 100%); }
    .bg-type-fairy { background: linear-gradient(135deg, #ee99ac 0%, #be6078 100%); }
    .bg-type-normal { background: linear-gradient(135deg, #a8a878 0%, #787850 100%); }

    /* --- PLATAFORMA --- */
.fixed-background {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; z-index: -2;
        background: url('{% static "img/v1.webp" %}');
        background-size: cover; background-position: center;
    }

    /* --- HEADER --- */
    .detail-header {
        position: fixed; top: 0; width: 100%; height: 60px;
        background: #D92525; border-bottom: 5px solid #222;
        display: flex; align-items: center; padding: 0 30px;
        z-index: 100; box-shadow: 0 5px 20px rgba(0,0,0,0.5);
    }

    .back-btn {
        background: #222; color: #fff; border: 2px solid #fff;
        padding: 6px 20px; border-radius: 30px; text-decoration: none;
        font-weight: bold; font-family: 'Orbitron'; transition: 0.3s;
        display: flex; align-items: center; gap: 10px; font-size: 0.9rem;
    }
    .back-btn:hover { background: #fff; color: #D92525; border-color: #D92525; }

    /* --- LAYOUT --- */
    .pokedex-detail-wrapper {
        padding-top: 80px; padding-bottom: 40px;
        max-width: 1400px; margin: 0 auto;
        display: grid;
        grid-template-columns: 280px 1fr 320px; 
        gap: 20px; position: relative; z-index: 1; align-items: start;
    }

    /* --- PAINÉIS --- */
    .panel-box {
        background: rgba(15, 15, 25, 0.85); backdrop-filter: blur(12px);
        border: 2px solid #333; border-radius: 15px;
        padding: 15px; margin-bottom: 15px;
        color: white; box-shadow: 0 8px 20px rgba(0,0,0,0.6);
        position: relative; overflow: hidden;
    }
    .panel-box::before {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 4px;
        background: linear-gradient(90deg, #D92525, #64D7F4);
    }

    .desc-box h3, .evo-box h3, .moves-box h3, .stats-header {
        color: #64D7F4; font-family: 'Orbitron'; font-size: 1rem; margin-bottom: 10px;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .flavor-text { font-size: 0.9rem; line-height: 1.5; color: #ddd; font-style: italic; }

    /* --- EVOLUÇÃO --- */
    .evo-chain { display: flex; flex-direction: column; gap: 10px; align-items: center; justify-content: center; }
    .evo-arrow { color: #D92525; font-size: 1.2rem; }
    .evo-img-wrapper {
        position: relative; cursor: pointer; transition: 0.3s;
        background: rgba(255,255,255,0.05); border-radius: 50%; padding: 5px; border: 1px solid transparent;
    }
    .evo-img-wrapper:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: scale(1.1); }
    /* Força pixel art nas evoluções também */
    .evo-img { width: 60px; height: 60px; object-fit: contain; image-rendering: pixelated; }

    /* --- CENTRO --- */
    .center-stage { display: flex; flex-direction: column; align-items: center; }

    .pkmn-header { display: flex; align-items: center; justify-content: center; gap: 20px; width: 100%; position: relative; }
    .pkmn-name { font-family: 'Orbitron'; font-size: 2.8rem; color: white; text-shadow: 0 0 20px rgba(100, 215, 244, 0.6); text-transform: capitalize; margin: 0; line-height: 1; }
    .pkmn-id-badge {
        background: #222; color: #D92525; font-weight: bold; font-family: 'Orbitron';
        padding: 4px 12px; border-radius: 8px; border: 1px solid #D92525; font-size: 0.9rem; margin-bottom: 5px;
    }
    .nav-btn {
        background: rgba(0,0,0,0.6); border: 2px solid #555; color: #fff; width: 40px; height: 40px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center; text-decoration: none; font-size: 1.5rem; transition: 0.3s;
    }
    .nav-btn:hover { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px #64D7F4; }

    /* --- TIPOS --- */
    .types-row { display: flex; gap: 15px; margin-top: 10px; height: 50px; align-items: center; }
    .type-badge {
        width: 45px; height: 45px; border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        box-shadow: 0 4px 10px rgba(0,0,0,0.5);
        border: 2px solid rgba(255,255,255,0.3); transition: transform 0.3s;
    }
    .type-badge:hover { transform: scale(1.1); }
    .type-icon { width: 28px; height: 28px; filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5)); }

    /* Cores dos Tipos */
    .bg-type-fire { background: linear-gradient(135deg, #f08030 0%, #c03028 100%); }
    .bg-type-water { background: linear-gradient(135deg, #6890f0 0%, #3860b0 100%); }
    .bg-type-grass { background: linear-gradient(135deg, #78c850 0%, #489030 100%); }
    .bg-type-electric { background: linear-gradient(135deg, #f8d030 0%, #c09008 100%); }
    .bg-type-ice { background: linear-gradient(135deg, #98d8d8 0%, #68a0a0 100%); }
    .bg-type-fighting { background: linear-gradient(135deg, #c03028 0%, #801008 100%); }
    .bg-type-poison { background: linear-gradient(135deg, #a040a0 0%, #702070 100%); }
    .bg-type-ground { background: linear-gradient(135deg, #e0c068 0%, #a08038 100%); }
    .bg-type-flying { background: linear-gradient(135deg, #a890f0 0%, #7860c0 100%); }
    .bg-type-psychic { background: linear-gradient(135deg, #f85888 0%, #c02050 100%); }
    .bg-type-bug { background: linear-gradient(135deg, #a8b820 0%, #788810 100%); }
    .bg-type-rock { background: linear-gradient(135deg, #b8a038 0%, #887018 100%); }
    .bg-type-ghost { background: linear-gradient(135deg, #705898 0%, #403068 100%); }
    .bg-type-dragon { background: linear-gradient(135deg, #7038f8 0%, #4008c8 100%); }
    .bg-type-dark { background: linear-gradient(135deg, #705848 0%, #403028 100%); }
    .bg-type-steel { background: linear-gradient(135deg, #b8b8d0 0%, #888890 100%); }
    .bg-type-fairy { background: linear-gradient(135deg, #ee99ac 0%, #be6078 100%); }
    .bg-type-normal { background: linear-gradient(135deg, #a8a878 0%, #787850 100%); }

    /* --- PLATAFORMA --- */
    .holo-container {
        position: relative; width: 100%; height: 420px;
        display: flex; flex-direction: column; justify-content: flex-end; align-items: center;
        perspective: 1200px; padding-bottom: 20px;
    }
    .platform-base {
        position: absolute; bottom: -120px; width: 360px; height: 360px;
        border: 4px solid #64D7F4; border-radius: 50%; transform: rotateX(80deg);
        background: rgba(0, 20, 40, 0.8);
        box-shadow: 0 0 30px rgba(100, 215, 244, 0.4), inset 0 0 20px rgba(100, 215, 244, 0.2);
        animation: pulse-ring 4s infinite alternate; z-index: 1; overflow: hidden;
    }
    .platform-grid {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%; border-radius: 50%;
        background-image: linear-gradient(rgba(100, 215, 244, 0.5) 2px, transparent 2px), linear-gradient(90deg, rgba(100, 215, 244, 0.5) 2px, transparent 2px);
        background-size: 40px 40px; background-position: center; opacity: 0.6;
    }
    .platform-base::after {
        content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: radial-gradient(circle, rgba(100,215,244,0.3) 0%, transparent 70%); pointer-events: none;
    }

    /* POKÉMON PIXELADO */
    .main-image {
        position: relative; z-index: 10; width: 380px; height: 380px;
        object-fit: contain; 
        /* FORÇA PIXEL ART MESMO SE FOR ESTÁTICO */
        image-rendering: pixelated; 
        margin-bottom: 30px;
        animation: float-pkmn 3s ease-in-out infinite;
        transition: filter 0.3s;
    }

    /* Efeitos Shiny */
    .main-image.shiny-active {
        animation: float-pkmn 3s ease-in-out infinite, shiny-pulse 1s ease-in-out;
        filter: drop-shadow(0 0 20px #fff098d5) brightness(1.2);
    }
    .sparkle {
        position: absolute; width: 20px; height: 20px;
        background: radial-gradient(circle, #fff 10%, transparent 70%);
        box-shadow: 0 0 10px #fff; border-radius: 50%; pointer-events: none; z-index: 20;
        animation: sparkle-anim 0.8s ease-out forwards;
    }
    @keyframes shiny-pulse {
        0% { filter: brightness(1); transform: scale(1); }
        50% { filter: brightness(2) drop-shadow(0 0 30px #fff); transform: scale(1.1); }
        100% { filter: brightness(1.2) drop-shadow(0 0 20px #fff098d5); transform: scale(1); }
    }
    @keyframes sparkle-anim {
        0% { opacity: 1; transform: scale(0); }
        100% { opacity: 0; transform: scale(2) translate(var(--tx), var(--ty)); }
    }

    /* --- MOVES LIST --- */
    .moves-list { height: auto; max-height: 45vh; min-height: 100px; overflow-y: auto; padding-right: 5px; }
    .moves-list::-webkit-scrollbar { width: 6px; }
    .moves-list::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }
    .move-card {
        background: rgba(0,0,0,0.4); border: 1px solid #333; border-left: 4px solid #555;
        padding: 8px; margin-bottom: 6px; border-radius: 6px;
        display: flex; justify-content: space-between; align-items: center;
    }
    .move-name { font-weight: bold; font-size: 0.85rem; text-transform: capitalize; }
    .move-learn { font-size: 0.7rem; color: #888; }
    .move-pp { font-size: 0.7rem; color: #aaa; background: #222; padding: 1px 6px; border-radius: 4px; }
    .move-type-icon { width: 20px; height: 20px; }

    /* --- PESO E ALTURA (NOVO) --- */
    .info-grid { display: flex; justify-content: space-around; text-align: center; }
    .info-item h4 { color: #64D7F4; font-size: 0.8rem; margin: 0; text-transform: uppercase; }
    .info-item p { font-size: 1.2rem; font-weight: bold; margin: 5px 0 0; color: white; }

    /* --- FOOTER VARIANTES --- */
    .bottom-section {
        grid-column: 1 / -1; margin-top: 5px;
        background: rgba(13, 17, 23, 0.95); border: 1px solid #444; border-top: 3px solid #D92525;
        border-radius: 15px; padding: 15px; text-align: center;
    }
    .bottom-section h3 { color: #fff; font-family: 'Orbitron'; margin-bottom: 10px; font-size: 1rem; }
    .varieties-container { display: flex; justify-content: center; flex-wrap: wrap; gap: 15px; }
    .variety-card {
        display: flex; flex-direction: column; align-items: center; cursor: pointer; padding: 8px;
        border-radius: 10px; background: rgba(255,255,255,0.03); border: 1px solid transparent;
        transition: 0.3s; min-width: 80px;
    }
    .variety-card:hover { border-color: #64D7F4; background: rgba(100, 215, 244, 0.1); transform: translateY(-3px); }
    .variety-name { color: #fff !important; font-size: 0.75rem; margin-top: 5px; font-weight: bold; text-transform: capitalize; }
    .variety-img { width: 50px; height: 50px; object-fit: contain; image-rendering: pixelated; }

    .shiny-control { text-align: center; margin-top: 0px; }
    .shiny-btn {
        background: #1a1a1a; border: 2px solid #D92525; color: #D92525;
        padding: 8px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.8rem;
        cursor: pointer; transition: 0.3s; display: inline-flex; align-items: center; gap: 8px;
    }
    .shiny-btn.active { border-color: #64D7F4; color: #64D7F4; box-shadow: 0 0 10px rgba(100, 215, 244, 0.4); background: #0d1117; }
    .shiny-btn.active .shiny-icon { filter: grayscale(0%); transform: rotate(360deg); }
    .shiny-icon { font-size: 1rem; filter: grayscale(100%); transition: 0.3s; }

    @keyframes pulse-ring { 0% { box-shadow: 0 0 20px rgba(0, 204, 255, 0.2); border-color: rgba(100, 215, 244, 0.5); } 100% { box-shadow: 0 0 40px rgba(100, 215, 244, 0.6); border-color: #64D7F4; } }
    @keyframes float-pkmn { 0%, 100% { transform: translateY(0); } 50% { transform: translateY(-10px); } }
.home-btn {
        position: absolute;
        left: 20px;
        top: 50%;
        transform: translateY(-50%);
        
        width: 45px;
        height: 45px;
        background: #222;
        border: 2px solid #fff;
        border-radius: 50%;
        color: #fff;
        font-size: 24px;
        text-decoration: none;
        
        /* FLEXBOX CENTRALIZADO */
        display: flex;
        align-items: center;
        justify-content: center;
        
        /* CORREÇÃO DO ALINHAMENTO */
        padding: 0; /* Remove preenchimento interno padrão */
        padding-bottom: 4px; /* Empurra a seta um pouco para baixo */
        padding-right: 2px; /* Empurra a seta um pouco para a esquerda (visual) */
        line-height: 1; /* Remove altura de linha extra da fonte */
        
        transition: all 0.3s ease;
        z-index: 101;
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    .home-btn:hover {
        background: #fff;
        color: #D92525;
        border-color: #D92525;
        box-shadow: 0 0 15px rgba(255, 255, 255, 0.5);
        transform: translateY(-50%) scale(1.1);
    }
.evo-stage-row {
        display: flex;
        flex-wrap: wrap; /* Permite quebrar linha se tiver muitos (Eevee) */
        justify-content: center;
        gap: 10px;
        width: 100%;
    }
.mega-overlay {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        z-index: 200; /* Fica na frente de tudo */
        pointer-events: none; /* Deixa clicar através */
        display: none; /* Escondido por padrão */
        justify-content: center; align-items: center;
    }

    .mega-overlay.active { display: flex; }

    .mega-symbol-container {
        position: relative;
        width: 150px; height: 150px;
        animation: mega-enter 2.5s ease-in-out forwards;
    }

    /* Imagem do Mega Ring/Key Stone */
    .mega-icon-img {
        width: 100%; height: 100%; object-fit: contain;
        filter: drop-shadow(0 0 20px #eec4ec);
        z-index: 2; position: relative;
    }

    /* O Brilho Arco-íris da Mega Evolução */
    .mega-ring-glow {
        position: absolute; top: 50%; left: 50%;
        transform: translate(-50%, -50%);
        width: 100px; height: 100px;
        border-radius: 50%;
        box-shadow: 0 0 50px 20px rgba(255, 255, 255, 0.8);
        background: radial-gradient(circle, rgba(255,255,255,1) 0%, rgba(253,29,29,0) 70%);
        animation: mega-colors 2s linear infinite;
        opacity: 0;
    }

    /* O Flash Branco que cobre a tela */
    .mega-flash {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: white; opacity: 0;
        z-index: 10;
    }

    /* --- KEYFRAMES --- */
    
    /* Sequência completa da entrada */
    @keyframes mega-enter {
        0% { transform: scale(0) rotate(-180deg); opacity: 0; }
        20% { transform: scale(1.2) rotate(0deg); opacity: 1; }
        30% { transform: scale(1); }
        70% { transform: scale(1); opacity: 1; }
        80% { transform: scale(3); opacity: 0; } /* Explode */
        100% { transform: scale(3); opacity: 0; }
    }

    /* Cores pulsantes */
    @keyframes mega-colors {
        0% { box-shadow: 0 0 40px #ff0055; }
        25% { box-shadow: 0 0 40px #0055ff; }
        50% { box-shadow: 0 0 40px #00ff55; }
        75% { box-shadow: 0 0 40px #ffff00; }
        100% { box-shadow: 0 0 40px #ff0055; }
    }

    /* Ativação do flash no final */
    .mega-overlay.active .mega-flash {
        animation: flash-screen 0.5s ease-out 2s forwards; /* Começa no segundo 2 */
    }

    @keyframes flash-screen {
        0% { opacity: 0; }
        50% { opacity: 0.8; }
        100% { opacity: 0; }
    }
.mega-overlay {
        position: fixed; top: 0; left: 0; width: 100vw; height: 100vh;
        z-index: 9999; pointer-events: none; display: none;
        justify-content: center; align-items: center;
        background: rgba(0,0,0,0.8); /* Fundo escurece */
    }
    .mega-overlay.active { display: flex; pointer-events: all; }

    .mega-symbol-container {
        position: relative; width: 250px; height: 250px;
        animation: mega-enter 2s ease-in-out forwards;
    }
    
    .mega-icon-img {
        width: 100%; height: 100%; object-fit: contain;
        filter: drop-shadow(0 0 30px #eec4ec); position: relative; z-index: 2;
    }

    /* Flash Branco Final */
    .mega-flash {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background: white; opacity: 0; z-index: 200;
    }

    @keyframes mega-enter {
        0% { transform: scale(0) rotate(-180deg); opacity: 0; }
        40% { transform: scale(1.2) rotate(0deg); opacity: 1; } /* Surge */
        60% { transform: scale(1); filter: brightness(1.5) drop-shadow(0 0 50px #ff00ff); } /* Pulsa */
        90% { transform: scale(1.5); opacity: 1; }
        100% { transform: scale(4); opacity: 0; } /* Explode na tela */
    }
    
    .mega-overlay.active .mega-flash { animation: flash-screen 0.5s ease-out 1.8s forwards; }
    @keyframes flash-screen { 0% { opacity: 0; } 50% { opacity: 1; } 100% { opacity: 1; } }
.mega-evolve-btn {
        display: none; /* Invisível até o JS detectar Mega */
        background: linear-gradient(90deg, #1a1a1a, #2a002a); 
        border: 2px solid #eec4ec; color: #eec4ec;
        padding: 10px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.9rem;
        cursor: pointer; transition: 0.3s; align-items: center; gap: 8px; width: 100%; justify-content: center;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .mega-evolve-btn:hover {
        background: linear-gradient(90deg, #ff0055, #0055ff);
        border-color: white; color: white;
        box-shadow: 0 0 20px rgba(255, 255, 255, 0.6);
        transform: scale(1.05);
    }
.original-btn {
        display: none; /* Invisível por padrão */
        background: #1a1a1a; border: 2px solid #64D7F4; color: #64D7F4;
        padding: 10px 20px; border-radius: 8px; font-family: 'Orbitron'; font-weight: bold; font-size: 0.9rem;
        cursor: pointer; transition: 0.3s; align-items: center; gap: 8px; width: 100%; justify-content: center;
        text-transform: uppercase; letter-spacing: 1px;
    }
    .original-btn:hover {
        background: #64D7F4; color: #000;
        box-shadow: 0 0 20px rgba(100, 215, 244, 0.6);
        transform: scale(1.05);
    }
.special-controls {
        display: flex;
        flex-direction: column;
        gap: 12px; /* Espaço igual entre botões */
        padding: 20px;
        align-items: center;
    }

    /* Classe Mestre para TODOS os botões especiais */
    .special-btn {
        width: 100%;
        height: 45px; /* Altura fixa para uniformidade */
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 10px;
        
        border-radius: 8px;
        font-family: 'Orbitron', sans-serif;
        font-weight: bold;
        font-size: 0.85rem; /* Tamanho de fonte igual */
        text-transform: uppercase;
        letter-spacing: 1px;
        
        background: rgba(0, 0, 0, 0.3);
        cursor: pointer;
        transition: all 0.3s ease;
        text-decoration: none;
    }
.mega-text-effect {
        /* Gradiente Keystone: Rosa, Azul, Amarelo, Branco */
        background: linear-gradient(
            to right, 
            #ff00cc, 
            #3333ff, 
            #00ccff, 
            #ffcc00, 
            #ff00cc
        );
        background-size: 200% auto;
        color: #fff; /* Fallback */
        background-clip: text;
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        animation: shine-text 3s linear infinite;
        text-shadow: 0 0 20px rgba(255, 255, 255, 0.4); /* Brilho externo */
        font-weight: 800;
        letter-spacing: 2px;
    }

    @keyframes shine-text {
        to {
            background-position: 200% center;
        }
    }
.scene-container {
        position: fixed;
        top: 0; left: 0; width: 100vw; height: 100vh;
        
        /* Fundo Radial */
        background: radial-gradient(circle at center, rgba(20, 30, 40, 0.274) 0%, #05050531 100%), 
                    url('/static/img/v1.webp'); 
        background-size: cover; 
        background-position: center;
        
        display: flex;
        justify-content: center;
        align-items: center;     
        z-index: 0;
    }

    /* --- ELEMENTOS DE FUNDO --- */
    .pokeball-pattern {
        position: absolute; top: 0; left: 0; width: 100%; height: 100%;
        background-image: url('https://assets.streamlinehq.com/image/private/w_300,h_300,ar_1/f_auto/v1/icons/vector-icons-7/pokeball-xeg9gc4xzwluseur3c3mm.png/pokeball-qdt0o2i0d34nyhk4opt88.png?_a=DATAg1AAZAA0');
        background-size: 60px 60px; opacity: 0.06; 
        animation: move-bg 10s linear infinite; z-index: 0;
    }
    @keyframes move-bg { 0% { background-position: 0 0; } 100% { background-position: 100px 100px; } }

    .scanlines {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px; pointer-events: none; opacity: 0.3; z-index: 10;
    }

    /* Linha do Horizonte (Neon) */
    .neon-horizon {
        position: absolute; top: 50%; left: 0; width: 100%; height: 2px;
        background: #64D7F4;
        box-shadow: 0 0 15px #64D7F4;
        z-index: 1; opacity: 0.7;
    }

    /* --- PERSONAGEM --- */
    .character-img {
        position: absolute; bottom: 0; left: 5vw;
        bottom: -10vh;
        height: 75vh; z-index: 2; 
    }

    /* --- MENU PRINCIPAL (POSICIONAMENTO AJUSTADO) --- */
.interface-wrapper {
        position: absolute;
        
        /* ANCORAGEM: Cola no teto e na direita */
        top: 0;
        right: 50px; /* Distância da borda da tela */
        
        /* IMPORTANTE: Anula qualquer centralização anterior */
        left: auto;
        margin: 0;
        transform: none; 
        
        /* Tamanho */
        width: 500px; /* Largura do menu */
        height: 85vh; /* Comprimento da aba (não vai até o chão total) */
        
        display: flex;
        flex-direction: column;
        align-items: center;
        z-index: 20;
    }
    /* --- 2. O MENU (FORMATO DE ABA) --- */
/* --- A MOLDURA (POKÉDEX INVERTIDA) --- */
.holo-menu {
        /* Posicionamento Fixo na Direita */
        position: absolute; 
        top: 0; 
        right: 5%; 
        left: auto; 
        transform: none; 
        margin: 0; 
        
        width: 500px;
        height: 88vh; 
        
        /* 1. CARCAÇA EXTERNA (VERMELHA) */
        border: 15px solid #D92525; /* Mais grosso */
        border-top: none; /* Sai do teto */
        border-radius: 0 0 60px 60px; 
        
        /* Fundo da Tela */
        background: rgba(13, 17, 23, 0.95); 
        
        /* 2. BORDAS EXTRAS (O TRUQUE) */
        box-shadow: 
            /* Camada 1: Moldura Interna Escura (O Bezel da tela) */
            inset 0 0 0 8px #1a1a1a, 
            
            /* Camada 2: Brilho da Tela Azul (Vidro) */
            inset 0 0 50px rgba(100, 215, 244, 0.5);
            
            /* Camada 3: Sombra Externa (Profundidade 3D) */
  
        
        padding: 40px 30px;
        display: flex;
        flex-direction: column;
        z-index: 10;
        
        /* Garante que a borda interna não cubra o conteúdo */
        box-sizing: border-box; 
    }

    /* --- O SENSOR/CÂMERA (A bolinha azul na borda de baixo) --- */
    .holo-menu::after {
        content: '';
        position: absolute;
        
        /* Posiciona exatamente no meio da borda inferior */
        bottom: -35px; 
        left: 50%;
        transform: translateX(-50%);
        
        width: 60px; 
        height: 60px;
        
        /* Estilo do Sensor */
        background: #1a1a1a; /* Mesma cor da borda */
        border: 5px solid #64D7F4; /* Aro de luz azul */
        border-radius: 50%;
        
        /* Brilho do sensor */
        box-shadow: 0 0 25px #64D7F4;
        z-index: 25;
    }

    /* --- 3. ESCONDER A BOLA DO TOPO --- */
    /* Como o menu agora cola no teto, a bola de cima não faz sentido visualmente */
    .holo-pokeball-top {
        display: none;
    }
    
    /* Ajuste do Título para não ficar colado no teto */
    .holo-title {
        margin-top: 30px; /* Mais espaço no topo */
        text-align: center; color: #fff; font-family: 'Orbitron', sans-serif;
        text-transform: uppercase; letter-spacing: 6px; 
        margin-bottom: 40px; font-size: 1.8rem; font-weight: 800;
        text-shadow: 0 0 15px #64D7F4;
        border-bottom: 2px solid #D92525; padding-bottom: 15px;
    }

    /* --- O BOTÃO KALOS (CELULAR DEITADO) --- */
.kalos-btn {
        position: relative; display: flex; flex-direction: row; 
        align-items: center; justify-content: center; gap: 20px; 
        
        width: 100%; /* Ocupa toda a largura */
        height: 75px; /* Altura confortável */
        text-decoration: none;
        
        background: rgba(100, 215, 244, 0.1); 
        box-shadow: inset 0 0 15px rgba(100, 215, 244, 0.2);
        border-left: 4px solid #D92525; border-right: 4px solid #D92525;
        
        color: #fff; font-family: 'Orbitron', sans-serif; font-weight: bold;
        text-transform: uppercase; font-size: 1.2rem; letter-spacing: 3px;
        text-shadow: 0 0 5px rgba(100, 215, 244, 0.8);
        
        transition: all 0.2s ease;
    }

    /* Barras Vermelhas (Topo e Base) */
    .kalos-btn::before { content: ''; position: absolute; top: 0; left: 0; width: 100%; height: 6px; background: #D92525; border-bottom: 2px solid #222; }
    .kalos-btn::after { content: ''; position: absolute; bottom: 0; left: 0; width: 100%; height: 6px; background: #D92525; border-top: 2px solid #222; }

    .kalos-btn span { font-size: 1.5rem; filter: drop-shadow(0 0 5px #64D7F4); }

    .kalos-btn:hover {
        background: rgba(100, 215, 244, 0.4); 
        transform: scale(1.02); /* Cresce levemente */
        border-color: #64D7F4;
        box-shadow: 0 0 25px rgba(100, 215, 244, 0.5);
    }
    .kalos-btn:hover::before, .kalos-btn:hover::after { background: #ff4d4d; border-color: #64D7F4; }

    @keyframes float-horizontal {
        0% { transform: translateY(0); }
        50% { transform: translateY(-8px); }
        100% { transform: translateY(0); }
    }

    .col-6:nth-child(1) .kalos-btn { animation-delay: 0s; }
    .col-6:nth-child(2) .kalos-btn { animation-delay: 0.5s; }
    .col-6:nth-child(3) .kalos-btn { animation-delay: 1s; }
    .col-6:nth-child(4) .kalos-btn { animation-delay: 1.5s; }

    /* --- BALCÃO INFERIOR (AJUSTADO) --- */
    .counter-desk {
        position: absolute; bottom: 0; width: 100%; height: 10vh;
        background: #D92525; z-index: 3;
        
        /* AJUSTE 3: LINHA SUPERIOR MAIS GROSSA */
        border-top: 10px solid #222; /* Aumentado de 8px para 12px */
        
        display: flex; justify-content: center; align-items: center;
        
    }

    .pokeball-logo {
        width: 70px; height: 70px;
        background: #222; border: 4px solid #64D7F4; border-radius: 50%;
        position: relative; margin-top: -3px; /* Sobe metade */
        box-shadow: 0 0 20px #64D7F4;
        z-index: 4;
    }
    .pokeball-logo::after {
        content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 25px; height: 25px; background: #64D7F4; border-radius: 50%;
        animation: pulse-logo 2s infinite;
    }
    @keyframes pulse-logo { 0% { box-shadow: 0 0 0 0 rgba(100,215,244,0.7); } 70% { box-shadow: 0 0 0 10px rgba(100,215,244,0); } 100% { box-shadow: 0 0 0 0 rgba(100,215,244,0); } }
.interface-wrapper {
        position: absolute;
        top: 50%; 
        left: 55%; /* Ajuste a posição horizontal aqui */
        transform: translate(-50%, -50%); /* Centraliza exato no ponto */
        
        display: flex;
        flex-direction: column; /* FORÇA UM EMBAIXO DO OUTRO */
        align-items: center;    /* FORÇA CENTRALIZAÇÃO */
        
        width: 600px;
        z-index: 20;
    }
.holo-pokeball-top {
        width: 90px; height: 90px;
        background: linear-gradient(135deg, #D92525 20%, #1a1a1a 50%, #64D7F4 80%);
        border: 4px solid #64D7F4; border-radius: 50%;
        box-shadow: 0 0 40px #64D7F4;
        margin-bottom: -45px; /* Enterra metade no menu */
        z-index: 25; /* Fica na frente da borda do menu */
        position: relative;
        animation: pulse-orb 3s infinite alternate;
    }
.holo-pokeball-top::after {
        content: ''; position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%);
        width: 30px; height: 30px; background: #fff; border-radius: 50%;
        box-shadow: 0 0 15px #fff;
    }
    @keyframes pulse-orb { to { box-shadow: 0 0 70px #64D7F4; } }
.rotom-container {
        margin-top: 380px;
        margin-right: 130px;
        display: flex;
        justify-content: center;
        z-index: 19;
    }
    .rotom-img {
        width: 400px;
        filter: drop-shadow(0 0 15px rgba(100, 215, 244, 0.8));
        animation: rotom-hover 4s ease-in-out infinite;
    }
    @keyframes rotom-hover {
        0%, 100% { transform: translateY(0); }
        50% { transform: translateY(-15px); }
    }
.battledex-logo-container {
        width: 100%;
        text-align: center;
        background: rgba(13, 17, 23, 0.85);
        border: 3px solid #64D7F4;
        border-radius: 15px;
        padding: 15px;
        backdrop-filter: blur(10px);
        box-shadow: 0 0 40px rgba(100, 215, 244, 0.3);
        
        /* Animação de entrada */
        animation: slide-down 1s ease-out;
    }

    .battledex-logo-text {
        font-family: 'Orbitron', sans-serif;
        font-size: 2.5rem; /* Fonte Gigante */
        font-weight: 900;
        color: #fff;
        text-transform: uppercase;
        letter-spacing: 8px;
        text-shadow: 0 0 20px #64D7F4, 0 0 40px #64D7F4;
        margin: 0;
    }
.image-container {
        position: relative;
        height: 150px; /* Aumentei um pouco para dar respiro */
        width: 100%;
        display: flex;
        align-items: flex-end; /* Alinha tudo na base */
        justify-content: center;
        perspective: 600px;
        z-index: 1; /* Cria contexto de empilhamento */
    }

    /* --- O PISO (Pokébola) - CAMADA DE TRÁS --- */
.pokeball-floor {
        position: absolute;
        bottom: -25px; /* Posição ajustada */
        left: 50%;
        transform: translateX(-50%) rotateX(75deg); /* Achatamento 3D */
        
        width: 110px; 
        height: 120px;
        border-radius: 50%;
        
        /* 1. O FUNDO VERMELHO E BRANCO (O que estava faltando) */
        background: linear-gradient(to bottom, rgba(255, 0, 0, 0.993) 50%, rgb(255, 255, 255) 50%);
        
        /* Borda Externa Neon */
        border: 2px solid #1cfff4a8; 
        box-shadow: 0 0 15px rgba(100, 215, 244, 0.3);
        
        z-index: 0; 
        pointer-events: none;
    }

    /* --- DETALHES INTERNOS (Centro Preto + Linhas Azuis) --- */
    .pokeball-floor::after {
        content: ''; 
        position: absolute; 
        top: 0; left: 0; 
        width: 100%; height: 100%;
        border-radius: 50%;
        
        /* 2. CENTRO PRETO + ARO NEON + LINHA HORIZONTAL */
        background: 
            /* Miolo: Preto (#222) -> Borda Azul -> Transparente */
            radial-gradient(circle at center, #353535 18%, #757575 19%, #e2e2e2 23%, transparent 24%),
            
            /* Faixa: Transparente -> Azul -> Transparente */
            linear-gradient(to bottom, transparent 46%, #4e4e4e 46%, #8b8b8b 54%, transparent 54%);
            
        opacity: 1;
        filter: drop-shadow(0 0 2px #64D7F4);
    }
.pokemon-card img.primary-img {
        position: relative;
        width: 100px; 
        height: 100px;
        object-fit: contain;
        image-rendering: pixelated;
        
        /* IMPORTANTE: */
        z-index: 10; /* Garante que fique NA FRENTE do chão */
        margin-bottom: 25px; /* Empurra o Pokémon pra cima para ele "flutuar" sobre o aro */
        
        
        animation: float-card 3s ease-in-out infinite;
    }
.mega-stone-display {
        position: absolute;
        /* Adjust these values to place it right next to the Pokemon */
        bottom: 80px;  /* Moves it up from the bottom of the container */
        right: 30%;   /* Moves it in from the right side */
        width: 70px;   /* Slightly larger for visibility */
        height: 70px;
        z-index: 20;   /* Ensures it sits on top of everything */
        display: none; /* Controlled by JS */
        image-rendering: pixelated; 
        image-rendering: -moz-crisp-edges;
        image-rendering: crisp-edges;
        
        animation: stone-float 3s ease-in-out infinite;
        display: none;
    }
#music-player-container {
        position: fixed;
        bottom: 20px; /* Inicia no canto inferior direito */
        right: 20px;
        width: 350px;
        height: 60px;
        background: linear-gradient(180deg, #ff3333 0%, #cc0000 100%); /* Vermelho Pokémon */
        border: 3px solid #222;
        border-radius: 30px; /* Bordas arredondadas */
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        
        display: flex;
        align-items: center;
        padding: 0 15px;
        z-index: 999999; /* Fica acima de tudo */
        
        /* Permitir arrastar */
        cursor: grab;
        user-select: none;
        transition: transform 0.1s;
    }

    #music-player-container:active {
        cursor: grabbing;
        transform: scale(0.98);
    }

    /* Linha preta central (detalhe pokebola) */
    .player-line {
        position: absolute;
        top: 50%; left: 0; right: 0;
        height: 4px;
        background: #222;
        transform: translateY(-50%);
        z-index: 0;
        pointer-events: none;
    }

    /* Pokébola Giratória (Botão Play/Pause) */
    .player-pokeball-btn {
        width: 45px; height: 45px;
        background: url('https://upload.wikimedia.org/wikipedia/commons/thumb/5/53/Pok%C3%A9_Ball_icon.svg/1024px-Pok%C3%A9_Ball_icon.svg.png');
        background-size: cover;
        border-radius: 50%;
        border: 2px solid #fff;
        box-shadow: 0 0 10px rgba(0,0,0,0.5);
        cursor: pointer;
        z-index: 2;
        transition: transform 0.3s;
    }
    
    /* Animação de girar quando toca */
    .player-pokeball-btn.spinning {
        animation: spin-ball 2s linear infinite;
    }
    @keyframes spin-ball { 100% { transform: rotate(360deg); } }

    /* Informações da Música */
    .player-info {
        flex-grow: 1;
        text-align: center;
        color: white;
        font-family: 'Orbitron', sans-serif;
        font-size: 0.8rem;
        z-index: 2;
        text-shadow: 1px 1px 2px #000;
        
        display: flex;
        flex-direction: column;
        justify-content: center;
        line-height: 1.2;
    }
    
    .track-name { font-weight: bold; color: #fff; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; max-width: 180px; margin: 0 auto; }
    .track-time { font-size: 0.7rem; color: #eee; }

    /* Botões de Navegação (Setas) */
    .player-nav-btn {
        background: none;
        border: none;
        color: white;
        font-size: 1.5rem;
        cursor: pointer;
        z-index: 2;
        transition: 0.2s;
        text-shadow: 2px 2px 0 #222;
    }
    .player-nav-btn:hover { color: #64D7F4; transform: scale(1.2); }    
/* --- SEÇÃO DE DADOS TÉCNICOS --- */
    .tech-data-container {
        grid-column: 1 / -1; /* Ocupa toda a largura */
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 20px;
        margin-top: 20px;
        margin-bottom: 20px;
    }

    .tech-panel {
        background: rgba(13, 17, 23, 0.9);
        border: 2px solid #333;
        border-radius: 15px;
        padding: 20px;
        position: relative;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }
    
    .tech-panel h3 {
        color: #64D7F4; font-family: 'Orbitron'; font-size: 1rem;
        border-bottom: 2px solid #D92525; padding-bottom: 8px; margin-bottom: 15px;
        display: flex; align-items: center; gap: 8px;
    }

    /* BARRA DE STATUS */
.stat-row { display: flex; align-items: center; margin-bottom: 4px; font-size: 0.8rem; height: 20px; } /* Mais compacto */
    .stat-label { width: 40px; color: #888; font-weight: bold; text-transform: uppercase; font-size: 0.75rem; }
    .stat-val-text { width: 35px; color: #fff; text-align: right; margin-right: 8px; font-weight: bold; font-family: monospace; }
    
    /* Nature Colors */
    .stat-val-text.boosted { color: #ff5555; } /* Vermelho para + */
    .stat-val-text.nerfed { color: #64D7F4; } /* Azul para - */

    .stat-bar-bg { flex-grow: 1; height: 6px; background: #222; border-radius: 3px; overflow: hidden; }
    .stat-bar-fill { height: 100%; border-radius: 3px; background: #ddd; width: 0%; transition: all 0.5s ease; }
    
    /* Cores das Barras */
    .bar-hp { background: #FF5959; box-shadow: 0 0 5px #FF5959; }
    .bar-atk { background: #F5AC78; box-shadow: 0 0 5px #F5AC78; }
    .bar-def { background: #FAE078; box-shadow: 0 0 5px #FAE078; }
    .bar-spa { background: #9DB7F5; box-shadow: 0 0 5px #9DB7F5; }
    .bar-spd { background: #A7DB8D; box-shadow: 0 0 5px #A7DB8D; }
    .bar-spe { background: #FA92B2; box-shadow: 0 0 5px #FA92B2; }

    /* Seletor Rotom */
    .rotom-select {
        background: #222; color: #fff; border: 1px solid #64D7F4; border-radius: 5px;
        padding: 2px 5px; font-size: 0.75rem; font-family: 'Orbitron'; outline: none; cursor: pointer;
    }

    /* --- HABILIDADES CLICÁVEIS --- */
    .ability-chip { cursor: pointer; transition: 0.2s; user-select: none; }
    .ability-chip:hover { background: rgba(100, 215, 244, 0.3); transform: scale(1.05); }

    /* --- MODAL --- */
    .ability-modal-overlay {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.8); z-index: 10000;
        display: none; align-items: center; justify-content: center; backdrop-filter: blur(5px);
    }
    .ability-modal-content {
        background: #1a1a1a; border: 2px solid #64D7F4; border-radius: 15px; padding: 20px;
        width: 90%; max-width: 400px; text-align: center; box-shadow: 0 0 30px rgba(100, 215, 244, 0.3);
        animation: modal-pop 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
    }
    .ability-modal-content h3 { color: #64D7F4; font-family: 'Orbitron'; margin-bottom: 10px; border-bottom: 1px solid #333; padding-bottom: 10px; }
    .ability-modal-content p { color: #ddd; font-size: 0.9rem; line-height: 1.5; }
    .close-modal-btn { background: #D92525; color: white; border: none; padding: 8px 20px; border-radius: 20px; margin-top: 15px; cursor: pointer; font-weight: bold; }
    @keyframes modal-pop { from { transform: scale(0.8); opacity: 0; } to { transform: scale(1); opacity: 1; } }

    /* --- FRAQUEZAS (GRID) --- */
    .weakness-grid { display: flex; flex-wrap: wrap; gap: 8px; }
    .weak-badge {
        padding: 4px 8px; border-radius: 6px; font-size: 0.75rem; font-weight: bold; color: #fff;
        display: flex; align-items: center; gap: 5px; border: 1px solid rgba(255,255,255,0.2);
    }
    .weak-2x { background: rgba(255, 0, 0, 0.3); border-color: #ff5555; }
    .weak-4x { background: rgba(255, 0, 0, 0.6); border-color: #ff0000; box-shadow: 0 0 5px #ff0000; }
    .immune { background: #333; border-color: #888; color: #aaa; }
.chips-container { 
        display: flex; 
        gap: 10px; 
        flex-wrap: wrap; 
        margin-top: 5px;
        margin-bottom: 5px
    }
    
    .ability-chip {
        /* COR E FUNDO (O que faltava) */
        background: rgba(100, 215, 244, 0.15); /* Fundo azul transparente */
        border: 1px solid #64D7F4; /* Borda Neon */
        color: #ffffff; /* TEXTO BRANCO */
        
        /* Formato */
        padding: 6px 14px; 
        border-radius: 20px; 
        font-size: 0.9rem;
        text-transform: capitalize;
        font-weight: bold;
        letter-spacing: 0.5px;
        
        /* Interatividade */
        cursor: pointer; 
        transition: all 0.2s ease; 
        user-select: none;
    }

    /* Efeito ao passar o mouse */
    .ability-chip:hover { 
        background: #64D7F4; 
        color: #0d1117; /* Texto fica escuro para contraste */
        box-shadow: 0 0 15px #64D7F4;
        transform: translateY(-2px); 
    }

    /* Estilo para Habilidade Oculta (Hidden) */
    .ability-hidden {
        border-color: #ff5555; 
        color: #ffcccc; /* Texto avermelhado claro */
        background: rgba(255, 85, 85, 0.15);
    }
    
    .ability-hidden:hover {
        background: #ff5555;
        color: #fff;
        box-shadow: 0 0 15px #ff5555;
    }
    
    .ability-hidden::after { 
        content: '★'; /* Estrela para indicar rara/oculta */
        font-size: 0.8em; 
        margin-left: 6px; 
        vertical-align: middle;
    }
.data-row { 
        display: flex; 
        justify-content: space-between; 
        margin-bottom: 8px; 
        font-size: 0.9rem; 
        align-items: center;
    }

    .data-row .label { 
        color: #aaa; /* Cinza claro para o título (ex: "Grupos:") */
        font-size: 0.85rem;
    }

    .data-row .value { 
        color: #ffffff !important; /* BRANCO FORÇADO para o valor */
        font-weight: bold; 
        text-transform: capitalize;
        text-align: right;
        font-family: 'Orbitron', sans-serif; /* Fonte tech para combinar */
        letter-spacing: 0.5px;
    }  
.resist-05 { 
        background: rgba(76, 175, 80, 0.3); 
        border-color: #4CAF50; 
        color: #81C784; 
    }
    .resist-025 { 
        background: rgba(76, 175, 80, 0.6); 
        border-color: #2E7D32; 
        color: #fff;
        box-shadow: 0 0 5px #4CAF50; 
    }
.fixed-background {
        position: fixed; /* MUDANÇA: 'fixed' em vez de 'absolute' */
        top: 0; 
        left: 0; 
        width: 100vw; 
        height: 100vh; 
        z-index: -2; /* Joga bem para trás */
        
        background: url('{% static "img/v1.webp" %}'); 
        background-size: cover; 
        background-position: center;
        background-attachment: fixed; /* Garante que a imagem não role */
    }

    /* --- PADRÃO DE POKÉBOLAS (CORRIGIDO) --- */
    .pokeball-pattern {
        position: fixed; /* MUDANÇA: 'fixed' para acompanhar a tela */
        top: 0; 
        left: 0; 
        width: 100vw; 
        height: 100vh;
        z-index: -1; /* Fica na frente da imagem, mas atrás do site */
        
        
        opacity: 0.05; 
        pointer-events: none; /* Garante que não atrapalhe cliques */
    }
.scanlines {
        position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: linear-gradient(to bottom, rgba(255,255,255,0), rgba(255,255,255,0) 50%, rgba(0,0,0,0.1) 50%, rgba(0,0,0,0.1));
        background-size: 100% 4px; pointer-events: none; opacity: 0.6; z-index: 5;
    }

    /* --- 1. TOPO: INFINITE WALKER (GERAÇÃO JS) --- */
.walker-track-wrapper {
        width: 100vw;
        /* AJUSTE: Aumentei de 65px para 85px para caberem sprites maiores */
        height: 85px; 
        
        position: relative;
        overflow: hidden;
        z-index: 10;
        
        border-bottom: 4px solid #D92525;
        box-shadow: 0 5px 20px rgba(0,0,0,0.5);

        background-color: #2d0a0a; 
        background-image: 
            linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)),
            url('/static/img/grid.png');
        background-size: cover;
        background-position: center;
        background-repeat: no-repeat;
    }

    /* Sprites Ajustados para o novo tamanho maior */
    .walking-pokemon {
        position: absolute;
        bottom: 10px; 
        right: -100px;
        
        /* AJUSTE: Aumentei a altura dos bonecos para 80px */
        height: 80px; 
        width: auto;
        
        object-fit: contain;
        image-rendering: pixelated; 
        
        animation: walkLeft 25s linear forwards;
    }
    @keyframes walkLeft {
        from { transform: translateX(0); }
        to { transform: translateX(calc(-100vw - 100px)); } /* Vai até sair na esquerda */
    }

    /* --- 2. LAYOUT PRINCIPAL --- */
.pc-layout {
        display: grid;
        grid-template-columns: 350px 1fr;
        /* AJUSTE: Desconta os novos 85px da barra superior */
        height: calc(100vh - 85px); 
        background: transparent !important; 
    }
    /* --- 3. SIDEBAR ESQUERDA (TIME) --- */
    .sidebar {
        background: rgba(13, 17, 23, 0.95);
        border-right: 2px solid #D92525;
        padding: 25px;
        display: flex;
        flex-direction: column;
        box-shadow: 10px 0 30px rgba(0,0,0,0.3);
        position: relative;
        z-index: 8;
    }

    .sidebar-header {
        font-family: 'Orbitron';
        color: #64D7F4;
        text-transform: uppercase;
        font-size: 1.2rem;
        text-align: center;
        margin-bottom: 25px;
        letter-spacing: 2px;
        text-shadow: 0 0 10px rgba(100, 215, 244, 0.5);
        border-bottom: 1px solid #333;
        padding-bottom: 10px;
    }

    /* Grid do Time (2x3) */
    .team-grid {
        display: grid;
        grid-template-columns: 1fr 1fr;
        gap: 15px;
        flex-grow: 1; /* Ocupa espaço disponível */
        align-content: start;
    }

    .team-slot {
        aspect-ratio: 1/1; /* Quadrado perfeito */
        background: rgba(100, 215, 244, 0.05);
        border: 2px solid #333;
        border-radius: 12px;
        position: relative;
        display: flex; align-items: center; justify-content: center;
        transition: all 0.3s ease;
    }

    /* Slot Vazio (Design clean) */
    .team-slot:empty::before {
        content: '+'; color: #333; font-size: 2rem; font-family: 'Orbitron';
    }

    /* Efeito Dragover */
    .team-slot.drag-over {
        border-color: #64D7F4;
        background: rgba(100, 215, 244, 0.2);
        box-shadow: 0 0 15px #64D7F4;
    }

    .slot-number {
        position: absolute; top: 5px; left: 8px;
        font-family: 'Orbitron'; font-size: 0.6rem; color: #555;
    }

    /* Botões da Sidebar */
    .sidebar-controls {
        margin-top: 20px;
        display: flex; flex-direction: column; gap: 15px;
    }

.tech-btn {
        /* Fonte e Texto */
        font-family: 'Orbitron', sans-serif;
        font-size: 0.9rem;
        font-weight: bold;
        text-transform: uppercase;
        letter-spacing: 1px;
        text-align: center;
        text-decoration: none;
        color: #64D7F4; /* Texto Ciano */

        /* Forma e Estrutura */
        display: block; /* Garante que ocupem a largura */
        padding: 15px;
        border-radius: 10px; /* Cantos arredondados em vez do clip-path */
        border: 2px solid #64D7F4; /* Borda Neon Ciano */
        
        /* Fundo e Efeitos (O Pulo do Gato) */
        /* Fundo escuro semi-transparente com um leve degradê */
        background: linear-gradient(180deg, rgba(13, 25, 35, 0.8) 0%, rgba(5, 10, 15, 0.9) 100%);
        
        /* Sombra interna (brilho) e sombra externa (profundidade) */
        box-shadow: inset 0 0 15px rgba(100, 215, 244, 0.2), 0 5px 10px rgba(0,0,0,0.3);
        
        cursor: pointer;
        transition: all 0.3s ease;
        position: relative;
        overflow: hidden;
    }

    /* Efeito de "Scanline" passando ao fundo no hover (Opcional, mas fica legal) */
    .tech-btn::before {
        content: '';
        position: absolute; top: 0; left: -100%; width: 100%; height: 100%;
        background: linear-gradient(90deg, transparent, rgba(100, 215, 244, 0.4), transparent);
        transition: 0.5s;
    }

    .tech-btn:hover {
        /* Fica mais claro e brilha mais forte */
        background: rgba(100, 215, 244, 0.2);
        box-shadow: 0 0 25px rgba(100, 215, 244, 0.6), inset 0 0 10px rgba(100, 215, 244, 0.4);
        color: #fff; /* Texto fica branco para destacar */
        transform: translateY(-2px); /* Levanta um pouco */
    }
    
    .tech-btn:hover::before {
        left: 100%; /* Passa a luz */
    }

    /* --- VARIAÇÃO SECUNDÁRIA (VERMELHA - Para o botão "Criar") --- */
    .tech-btn.secondary {
        color: #D92525;
        border-color: #D92525;
        /* Fundo avermelhado escuro */
        background: linear-gradient(180deg, rgba(35, 13, 13, 0.8) 0%, rgba(20, 5, 5, 0.9) 100%);
        box-shadow: inset 0 0 15px rgba(217, 37, 37, 0.2), 0 5px 10px rgba(0,0,0,0.3);
    }

    .tech-btn.secondary::before {
        background: linear-gradient(90deg, transparent, rgba(217, 37, 37, 0.4), transparent);
    }

    .tech-btn.secondary:hover {
        background: rgba(217, 37, 37, 0.2);
        box-shadow: 0 0 25px rgba(217, 37, 37, 0.6), inset 0 0 10px rgba(217, 37, 37, 0.4);
        color: #fff;
    }

    /* --- 4. BOX AREA (DIREITA - DESIGN LIMPO) --- */
    .box-wrapper {
        padding: 30px 40px;
        display: flex; flex-direction: column;
        overflow: hidden;
    }

    .box-controls-header {
        display: flex; justify-content: space-between; align-items: center;
        margin-bottom: 20px;
        background: rgba(13, 17, 23, 0.8);
        padding: 10px 30px;
        border-radius: 30px;
        border: 1px solid #333;
    }

    .box-title { 
        font-family: 'Orbitron'; font-size: 1.5rem; color: #fff; 
        text-shadow: 0 0 10px rgba(255,255,255,0.3);
    }

    .nav-btn {
        background: none; border: none; color: #64D7F4; font-size: 2rem; cursor: pointer; transition: 0.2s;
    }
    .nav-btn:hover { transform: scale(1.2); text-shadow: 0 0 15px #64D7F4; }

    /* O GRID DA BOX (Sem linhas feias repetidas) */
    .box-storage {
        flex-grow: 1;
        background: rgba(0, 0, 0, 0.3);
        border: 2px solid #333;
        border-radius: 15px;
        
        /* Padrão sutil de pontos em vez de quadrados */
        background-image: radial-gradient(#333 1px, transparent 1px);
        background-size: 20px 20px;
        
        padding: 20px;
        overflow-y: auto; /* Scroll apenas aqui dentro */
        
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(80px, 1fr));
        grid-auto-rows: 80px;
        gap: 10px;
        
        /* Custom Scrollbar */
        scrollbar-width: thin;  
        scrollbar-color: #D92525 #0d1117;
    }
    
    .box-storage::-webkit-scrollbar { width: 8px; }
    .box-storage::-webkit-scrollbar-thumb { background: #D92525; border-radius: 4px; }
    .box-storage::-webkit-scrollbar-track { background: #0d1117; }

    .box-storage.drag-over {
        border-color: #D92525;
        box-shadow: inset 0 0 30px rgba(217, 37, 37, 0.2);
    }

    /* --- POKEMON CARD (Item) --- */
    .pkmn-card {
        width: 100%; height: 100%;
        cursor: grab;
        position: relative;
        display: flex; align-items: center; justify-content: center;
        background: rgba(255,255,255,0.02);
        border-radius: 8px;
        border: 1px solid transparent;
        transition: 0.2s;
    }
    
    .pkmn-card:hover {
        background: rgba(100, 215, 244, 0.1);
        border-color: #64D7F4;
        transform: scale(1.1);
        z-index: 100;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
    }
    
    .pkmn-card:active { cursor: grabbing; }

    .pkmn-sprite {
        width: 68px; height: 56px;
        image-rendering: pixelated;
        filter: drop-shadow(0 5px 5px rgba(0,0,0,0.5));
    }

    /* Shiny Sparkle */
    .shiny-icon {
        position: absolute; top: 2px; right: 2px; color: #ffd700; font-size: 10px; text-shadow: 0 0 5px #ffd700;
    }

    /* Detalhe visual: Aquele sensor azul da Pokédex no canto */
.modal-overlay {
        display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%;
        background: rgba(0,0,0,0.9); backdrop-filter: blur(5px); z-index: 5000;
        align-items: center; justify-content: center;
    }

    .modal-card {
        /* A MOLDURA DA POKÉDEX (VERMELHA) */
        background-color: #1a0505; /* Fundo muito escuro avermelhado */
        border: 4px solid #D92525; /* Borda Vermelha Padrão Pokédex */
        box-shadow: 0 0 60px rgba(217, 37, 37, 0.4); /* Brilho Vermelho */
        border-radius: 20px;
        
        width: 850px; max-width: 95%;
        display: grid; grid-template-columns: 300px 1fr;
        overflow: hidden; position: relative;
    }

    /* Detalhe do "Sensor" da Pokédex */
    .modal-card::before {
        content: ''; position: absolute; top: 15px; left: 15px;
        width: 15px; height: 15px; background: #64D7F4; 
        border-radius: 50%; box-shadow: 0 0 10px #64D7F4; z-index: 10;
    }

    /* --- A TELA LIGADA (FUNDO AZUL TECH INTERNO) --- */
    /* Aplicamos o fundo nas colunas para simular o display */
    .modal-col-left, .modal-col-right {
        /* Fundo Azul Escuro Tech */
        background-color: #0a1015;
        
        /* Efeito Scanline e Brilho */
        background-image: 
            linear-gradient(transparent 50%, rgba(0, 0, 0, 0.5) 50%), /* Linhas */
            radial-gradient(circle at center, rgba(100, 215, 244, 0.1), transparent 80%); /* Luz Azul */
        background-size: 100% 4px, 100% 100%;
    }

    .modal-col-left {
        border-right: 2px solid #D92525; /* Divisória Vermelha */
        padding: 40px 20px;
        display: flex; flex-direction: column; align-items: center;
    }

    .modal-col-right {
        padding: 30px;
        display: flex; flex-direction: column; gap: 20px;
    }

    /* Imagem */
    .modal-pkmn-img {
        width: 200px; height: 200px; object-fit: contain; image-rendering: pixelated;
        filter: drop-shadow(0 5px 10px rgba(0,0,0,0.8)); margin-bottom: 10px;
    }

    /* Textos (Branco/Ciano para parecer digital) */
    .modal-name {
        font-family: 'Orbitron'; font-size: 1.8rem; color: #fff; text-transform: capitalize;
        margin: 5px 0; border-bottom: 2px solid #64D7F4; padding-bottom: 5px; width: 100%; text-align: center;
        text-shadow: 0 0 10px rgba(100, 215, 244, 0.5);
    }

    .modal-chips { display: flex; gap: 8px; margin-top: 10px; flex-wrap: wrap; justify-content: center; }
    .modal-chip {
        padding: 4px 10px; border-radius: 4px; font-size: 0.8rem; font-weight: bold;
        background: rgba(100, 215, 244, 0.1); color: #64D7F4; border: 1px solid #64D7F4;
        text-transform: capitalize;
    }
    .chip-shiny { color: #ffd700; border-color: #ffd700; background: rgba(255, 215, 0, 0.1); }

    /* --- GRÁFICO (CONTAINER) --- */
    .chart-container {
        position: relative; height: 240px; width: 100%;
        display: flex; justify-content: center;
        background: rgba(0, 0, 0, 0.3); border-radius: 15px; border: 1px solid #333;
    }

    /* --- MOVES (BORDAS COLORIDAS) --- */
    .modal-moves-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; }
    
    .modal-move {
        background: #151515; /* Fundo Escuro Neutro */
        padding: 10px 15px; border-radius: 6px; 
        
        /* Texto Branco Limpo */
        color: #fff; font-family: 'Rajdhani'; font-weight: bold; font-size: 0.9rem;
        text-transform: capitalize;
        
        display: flex; justify-content: space-between; align-items: center;
        
        /* Borda grossa na esquerda para a cor */
        border-left: 5px solid #555; /* Cor padrão cinza */
        border-top: 1px solid #333;
        border-right: 1px solid #333;
        border-bottom: 1px solid #333;
        
        box-shadow: 0 2px 5px rgba(0,0,0,0.5);
    }

    /* Classes de Cor de Borda (Só a borda muda) */
    .border-fire { border-left-color: #EE8130 !important; }
    .border-water { border-left-color: #6390F0 !important; }
    .border-grass { border-left-color: #7AC74C !important; }
    .border-electric { border-left-color: #F7D02C !important; }
    .border-ice { border-left-color: #96D9D6 !important; }
    .border-fighting { border-left-color: #C22E28 !important; }
    .border-poison { border-left-color: #A33EA1 !important; }
    .border-ground { border-left-color: #E2BF65 !important; }
    .border-flying { border-left-color: #A98FF3 !important; }
    .border-psychic { border-left-color: #F95587 !important; }
    .border-bug { border-left-color: #A6B91A !important; }
    .border-rock { border-left-color: #B6A136 !important; }
    .border-ghost { border-left-color: #735797 !important; }
    .border-dragon { border-left-color: #6F35FC !important; }
    .border-dark { border-left-color: #705848 !important; }
    .border-steel { border-left-color: #B7B7CE !important; }
    .border-fairy { border-left-color: #EE99AC !important; }
    .border-normal { border-left-color: #A8A878 !important; }

    .modal-close { position: absolute; top: 10px; right: 20px; color: #fff; font-size: 2rem; cursor: pointer; z-index: 10; }
    .modal-close:hover { color: #D92525; }

    .info-label { color: #888; font-size: 0.9rem; }
    .info-val { color: #fff; font-weight: bold; float: right; text-transform: capitalize; }
.pc-layout {
        display: grid;
        grid-template-columns: 350px 1fr;
        height: calc(100vh - 80px);
        
        /* MUDANÇA: Removemos o fundo escuro daqui para o azul do body aparecer */
        background: transparent; 
    }
.lab-grid {
        display: grid;
        grid-template-columns: 350px 1fr;
        gap: 30px;
        max-width: 1600px;
        margin: 100px auto 50px auto;
        padding: 0 30px;
        position: relative;
        z-index: 1;
    }

    /* --- COLUNA ESQUERDA: VISUALIZADOR --- */
    .visual-panel {
        background: rgba(13, 17, 23, 0.9);
        border: 2px solid #64D7F4;
        border-radius: 20px;
        padding: 30px;
        display: flex; flex-direction: column; align-items: center;
        position: sticky; top: 100px; height: fit-content;
        box-shadow: 0 0 40px rgba(100, 215, 244, 0.1);
        backdrop-filter: blur(10px);
    }

    .search-group { width: 100%; position: relative; margin-bottom: 20px; }
    
    .tech-input {
        width: 100%; padding: 12px;
        background: rgba(0,0,0,0.5); border: 1px solid #333;
        color: #fff; font-family: 'Orbitron'; text-align: center;
        border-radius: 10px; transition: 0.3s;
        box-sizing: border-box; /* Garante que padding não estoure a largura */
    }
    .tech-input:focus { border-color: #64D7F4; box-shadow: 0 0 15px rgba(100, 215, 244, 0.3); outline: none; }

    .pokemon-display {
        width: 100%; aspect-ratio: 1/1;
        background: radial-gradient(circle, rgba(100,215,244,0.1) 0%, transparent 70%);
        border-radius: 50%;
        display: flex; align-items: center; justify-content: center;
        margin-bottom: 20px; position: relative;
        border: 1px dashed rgba(100, 215, 244, 0.3);
    }

    .main-sprite {
        width: 220px; height: 220px;
        object-fit: contain; image-rendering: pixelated;
        filter: drop-shadow(0 10px 10px rgba(0,0,0,0.5));
        animation: float 4s ease-in-out infinite;
        transition: 0.3s;
    }
    @keyframes float { 0%,100%{transform:translateY(0);} 50%{transform:translateY(-10px);} }

    .shiny-toggle {
        cursor: pointer; display: flex; align-items: center; gap: 10px;
        background: #222; padding: 8px 20px; border-radius: 20px; border: 1px solid #444;
        transition: 0.3s;
    }
    .shiny-toggle:hover { border-color: #D92525; }
    .shiny-toggle input { display: none; }
    .shiny-star { color: #555; font-size: 1.2rem; transition: 0.3s; }
    .shiny-toggle input:checked + .shiny-star { color: #ffd700; text-shadow: 0 0 10px #ffd700; transform: scale(1.2) rotate(360deg); }

    /* --- COLUNA DIREITA: CONTROLES --- */
    .controls-panel {
        display: flex; flex-direction: column; gap: 20px;
    }

    .control-box {
        background: rgba(20, 25, 35, 0.8);
        border: 1px solid #444; border-left: 4px solid #64D7F4;
        border-radius: 10px; padding: 25px;
    }
    .box-title {
        color: #64D7F4; font-family: 'Roboto'; font-size: 1.1rem;
        margin-bottom: 20px; text-transform: uppercase; letter-spacing: 1px;
        display: flex; justify-content: space-between; align-items: center;
    }

    /* Grid de Inputs Básicos */
    .basics-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 15px; }
    .form-group label { display: block; color: #888; font-size: 0.8rem; margin-bottom: 5px; }
    
    .tech-select {
        width: 100%; padding: 10px;
        background: #1a1a2e; border: 1px solid #444; color: #fff;
        border-radius: 5px; font-family: 'Roboto'; cursor: pointer;
    }

    /* --- SELETOR DE MOVES (LISTA INTELIGENTE) --- */
    .moves-container {
        display: grid; grid-template-columns: 1fr 1fr; gap: 20px;
    }
    
    .active-slots {
        display: grid; grid-template-rows: repeat(4, 1fr); gap: 10px;
    }
    
    .move-slot {
        background: rgba(0,0,0,0.4); border: 2px solid #333;
        border-radius: 8px; padding: 10px; cursor: pointer;
        display: flex; justify-content: space-between; align-items: center;
        transition: 0.2s; position: relative;
    }
    .move-slot:hover { background: rgba(100, 215, 244, 0.1); }
    .move-slot.selected { border-color: #D92525; background: rgba(217, 37, 37, 0.1); box-shadow: 0 0 15px rgba(217,37,37,0.2); }
    .move-slot span { font-weight: bold; text-transform: capitalize; }
    .move-type-icon { width: 25px; opacity: 0.8; }

    /* Lista de Moves Disponíveis */
    .move-pool-wrapper {
        border: 1px solid #444; border-radius: 8px; background: #111;
        height: 260px; display: flex; flex-direction: column;
    }
    .move-search-bar {
        padding: 10px; border-bottom: 1px solid #333;
    }
    .move-list-scroll {
        flex-grow: 1; overflow-y: auto; padding: 5px;
    }
    .pool-item {
        padding: 8px; border-bottom: 1px solid #222; cursor: pointer;
        font-size: 0.9rem; text-transform: capitalize; color: #aaa;
        display: flex; justify-content: space-between;
    }
    .pool-item:hover { background: #222; color: #fff; }
    
    /* Scrollbar */
    ::-webkit-scrollbar { width: 6px; }
    ::-webkit-scrollbar-thumb { background: #444; border-radius: 3px; }

    /* --- STATS (SLIDERS) --- */
    .stats-row {
        display: grid; grid-template-columns: 40px 1fr 50px 1fr 50px; 
        gap: 15px; align-items: center; margin-bottom: 12px;
    }
    .stat-label { font-weight: bold; color: #64D7F4; font-size: 0.9rem; }
    
    /* Range Slider Estilizado */
    input[type=range] {
        -webkit-appearance: none; width: 100%; background: transparent;
    }
    input[type=range]::-webkit-slider-runnable-track {
        width: 100%; height: 6px; background: #333; border-radius: 3px;
    }
    input[type=range]::-webkit-slider-thumb {
        -webkit-appearance: none; height: 16px; width: 16px; border-radius: 50%;
        background: #64D7F4; margin-top: -5px; cursor: pointer; box-shadow: 0 0 10px #64D7F4;
    }

    .iv-ev-num {
        background: transparent; border: none; color: #fff; font-weight: bold; 
        text-align: center; width: 100%; font-family: 'Rajdhani';
    }

    .max-btn {
        background: #222; border: 1px solid #64D7F4; color: #64D7F4;
        font-size: 0.7rem; cursor: pointer; border-radius: 4px; padding: 2px 5px;
    }
    .max-btn:hover { background: #64D7F4; color: #000; }

    .ev-counter { text-align: right; font-size: 0.9rem; color: #888; }
    .ev-counter.error { color: #ff4d4d; }

    /* BOTÃO SALVAR */
    .save-btn {
        width: 100%; padding: 20px;
        background: linear-gradient(90deg, #D92525, #8a1c1c);
        color: white; font-family: 'Roboto'; font-size: 1.2rem;
        border: none; border-radius: 10px; cursor: pointer;
        text-transform: uppercase; letter-spacing: 2px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5); transition: 0.3s;
    }
    .save-btn:hover { filter: brightness(1.2); transform: scale(1.01); }
.detail-container {
        padding-top: 100px; padding-bottom: 60px;
        max-width: 1600px; margin: 0 auto;
        display: grid;
        grid-template-columns: 400px 1fr; /* Coluna Visual mais larga */
        gap: 30px; 
    }

    /* --- PAINÉIS --- */
    .panel-box {
        background: rgba(13, 17, 23, 0.9);
        border: 2px solid #333; border-radius: 15px;
        padding: 25px; margin-bottom: 20px;
        box-shadow: 0 5px 15px rgba(0,0,0,0.5);
        position: relative;
    }
    
    .panel-header {
        color: #64D7F4; font-family: 'Montserrat'; font-size: 1.2rem;
        border-bottom: 2px solid #D92525; padding-bottom: 10px; margin-bottom: 25px;
        text-transform: uppercase; letter-spacing: 2px;
    }

    /* --- INPUTS & SELECTS --- */
    .tech-input, .tech-select {
        width: 100%; padding: 15px; /* Maior */
        background: rgba(0,0,0,0.4); border: 1px solid #444;
        color: #fff; border-radius: 8px; font-family: 'Rajdhani'; font-size: 1.1rem;
        transition: 0.3s; box-sizing: border-box;
    }
    .tech-input:focus, .tech-select:focus { 
        border-color: #64D7F4; outline: none; box-shadow: 0 0 15px rgba(100, 215, 244, 0.3); 
    }

    /* --- BUSCA DE POKEMON (MAIOR) --- */
    #pokeSearch {
        font-size: 1.3rem; padding: 18px; text-align: center;
        background: rgba(0,0,0,0.6); border: 2px solid #64D7F4;
    }

    /* --- VISUAL (SPRITE ANIMADO) --- */
    .preview-img {
        width: 280px; height: 280px; /* Maior */
        object-fit: contain; image-rendering: pixelated; /* Para Gen 5 */
        display: block; margin: 20px auto;
        filter: drop-shadow(0 10px 20px rgba(0,0,0,0.5));
    }

    /* --- BOTÃO SHINY --- */
    .shiny-wrapper {
        display: flex; align-items: center; justify-content: center; gap: 15px;
        background: linear-gradient(180deg, #222 0%, #111 100%); 
        padding: 15px; border-radius: 30px; margin-top: 20px;
        border: 2px solid #444; cursor: pointer; transition: 0.3s;
    }
    .shiny-wrapper:hover { border-color: #ffd700; box-shadow: 0 0 15px rgba(255, 215, 0, 0.3); }
    .shiny-wrapper input { width: 25px; height: 25px; accent-color: #ffd700; cursor: pointer; }
    .shiny-label { font-family: 'Montserrat'; font-size: 1.1rem; color: #ccc; }

    /* --- LISTA DE ITENS (AUTOCOMPLETE) --- */
    .item-container { position: relative; }
    .item-list {
        position: absolute; top: 100%; left: 0; width: 100%; max-height: 200px;
        background: #111; border: 1px solid #444; border-top: none;
        border-radius: 0 0 8px 8px; overflow-y: auto; z-index: 100;
        display: none; /* Escondido por padrão */
    }
    .item-option {
        padding: 10px; cursor: pointer; border-bottom: 1px solid #222; text-transform: capitalize;
    }
    .item-option:hover { background: #222; color: #64D7F4; }

    /* --- MOVESET --- */
    .move-selector-grid { display: grid; grid-template-columns: 1fr 1fr; gap: 20px; }
    .active-slots { display: flex; flex-direction: column; gap: 10px; }
    
    .move-slot {
        background: rgba(0,0,0,0.3); border: 1px solid #444; padding: 15px; border-radius: 8px;
        cursor: pointer; display: flex; justify-content: space-between; align-items: center;
        transition: 0.2s; font-family: 'Montserrat';
    }
    .move-slot:hover { border-color: #64D7F4; }
    .move-slot.selected { background: rgba(100, 215, 244, 0.15); border-color: #64D7F4; box-shadow: 0 0 15px rgba(100, 215, 244, 0.2); }

    .move-pool {
        height: 300px; overflow-y: auto; background: #0a0a0a; border: 1px solid #333; border-radius: 8px;
    }
    .pool-item {
        padding: 10px 15px; border-bottom: 1px solid #222; cursor: pointer; color: #aaa; text-transform: capitalize;
        display: flex; justify-content: space-between; font-size: 0.95rem;
    }
    .pool-item:hover { background: #222; color: #fff; }

    /* --- STATS --- */
    .stats-row {
        display: grid; grid-template-columns: 60px 1fr 60px; gap: 20px; align-items: center; margin-bottom: 15px;
    }
    .stat-label { font-weight: bold; color: #64D7F4; font-family: 'Montserrat'; }
    input[type=range] { width: 100%; accent-color: #64D7F4; cursor: pointer; }
    
    /* --- BOTÃO CRIAR (COMBINANDO COM O SITE) --- */
    .btn-create {
        width: 100%; padding: 20px; margin-top: 30px;
        background: linear-gradient(180deg, #D92525 0%, #8a0000 100%); /* Vermelho Pokédex */
        color: white; border: 2px solid #ff4d4d; border-radius: 12px;
        font-family: 'Montserrat'; font-size: 1.4rem; font-weight: bold; cursor: pointer;
        text-transform: uppercase; letter-spacing: 3px; transition: 0.3s;
        box-shadow: 0 5px 15px rgba(217, 37, 37, 0.4);
    }
    .btn-create:hover { 
        background: linear-gradient(180deg, #ff4d4d 0%, #b30000 100%);
        box-shadow: 0 0 25px rgba(255, 77, 77, 0.6); transform: scale(1.02);
    }
.panel-box {
    background: #161b22;
    border: 1px solid #30363d;
    border-radius: 12px;
    padding: 25px;
    margin-bottom: 20px;
    box-shadow: 0 8px 24px rgba(0,0,0,0.2);
    
    /* ESSA É A LINHA IMPORTANTE: */
    overflow: visible !important; 
    position: relative;
    z-index: 1; /* Nível base */
}

/* 2. O Container do input segura a posição */
.item-container { 
    position: relative; 
    z-index: 50; /* Garante que fique acima dos outros inputs */
}

/* 3. A Lista Flutuante (Dropdown) */
.item-list {
    position: absolute; 
    top: 100%; /* Cola logo abaixo do input */
    left: 0; 
    width: 100%; 
    max-height: 250px; /* Altura máxima antes de rolar */
    
    /* Visual Sólido para não misturar com o fundo */
    background-color: #1c2128; 
    border: 1px solid #58a6ff; /* Borda azul para destaque */
    border-top: none;
    border-radius: 0 0 8px 8px; 
    
    overflow-y: auto; /* Scroll dentro da lista */
    z-index: 9999; /* Fica em cima de TUDO */
    display: none;
    box-shadow: 0 15px 30px rgba(0,0,0,0.7); /* Sombra forte para destacar */
}

/* 4. Cada Opção da Lista */
.item-option {
    padding: 12px 15px;
    cursor: pointer;
    border-bottom: 1px solid #30363d;
    
    /* Fonte e Cor legíveis */
    font-family: 'Roboto', sans-serif;
    font-size: 0.95rem;
    color: #e6edf3; /* Texto Claro */
    text-transform: capitalize;
    background-color: #1c2128;
}

/* Hover (Quando passa o mouse) */
.item-option:hover {
    background-color: #1f6feb; /* Azul vibrante */
    color: white;
    font-weight: 700;
}

/* Scrollbar da lista para ficar bonita */
.item-list::-webkit-scrollbar { width: 8px; }
.item-list::-webkit-scrollbar-track { background: #1c2128; }
.item-list::-webkit-scrollbar-thumb { background: #30363d; border-radius: 4px; }
.item-list::-webkit-scrollbar-thumb:hover { background: #58a6ff; }
/* Container para segurar a lista na posição certa */
.search-wrapper-relative {
    position: relative;
    width: 100%;
    z-index: 50; /* Garante que fique acima da imagem */
}

/* A Lista flutuante */
.pokemon-dropdown-list {
    position: absolute;
    top: 100%;
    left: 0;
    width: 100%;
    max-height: 250px;
    overflow-y: auto;
    background-color: #0d1117; /* Cor de fundo escura */
    border: 1px solid #64D7F4; /* Borda Ciano */
    border-top: none;
    border-radius: 0 0 8px 8px;
    display: none; /* Escondido por padrão */
    box-shadow: 0 10px 20px rgba(0,0,0,0.8);
}

/* Cada item da lista */
.pokemon-dropdown-option {
    padding: 10px;
    cursor: pointer;
    border-bottom: 1px solid #333;
    color: #fff;
    text-transform: capitalize;
    font-family: monospace; /* Fonte simples para garantir leitura */
    font-size: 1rem;
}

.pokemon-dropdown-option:hover {
    background-color: #64D7F4;
    color: #000;
    font-weight: bold;
}

/* Scrollbar da lista */
.pokemon-dropdown-list::-webkit-scrollbar { width: 8px; }
.pokemon-dropdown-list::-webkit-scrollbar-track { background: #000; }
.pokemon-dropdown-list::-webkit-scrollbar-thumb { background: #64D7F4; border-radius: 4px; }
/* --- 2. ESTILO DOS ÍCONES DE TIPO COLORIDOS (Igual Pokédex) --- */

/* Container dos tipos */
#typesDisplay {
    display: flex;
    justify-content: center;
    gap: 10px;
    margin: 15px 0; /* Espaço acima e abaixo */
}

/* A bolinha colorida */
.type-badge {
    width: 45px; height: 45px; /* Tamanho da bolinha */
    border-radius: 50%;
    display: flex; align-items: center; justify-content: center;
    border: 3px solid rgba(0,0,0,0.3); /* Borda escura sutil */
    box-shadow: 0 4px 8px rgba(0,0,0,0.5); /* Sombra para destacar */
}

/* O ícone SVG dentro da bolinha */
.type-badge img {
    width: 28px; height: 28px;
    filter: drop-shadow(0 2px 2px rgba(0,0,0,0.5));
}

/* CORES OFICIAIS DOS TIPOS */
.type-normal { background-color: #A8A77A; }
.type-fire { background-color: #EE8130; }
.type-water { background-color: #6390F0; }
.type-grass { background-color: #7AC74C; }
.type-electric { background-color: #F7D02C; }
.type-ice { background-color: #96D9D6; }
.type-fighting { background-color: #C22E28; }
.type-poison { background-color: #A33EA1; }
.type-ground { background-color: #E2BF65; }
.type-flying { background-color: #A98FF3; }
.type-psychic { background-color: #F95587; }
.type-bug { background-color: #A6B91A; }
.type-rock { background-color: #B6A136; }
.type-ghost { background-color: #735797; }
.type-dragon { background-color: #6F35FC; }
.type-steel { background-color: #B7B7CE; }
.type-fairy { background-color: #D685AD; }
.type-dark { background-color: #705746; }
select.tech-select {
    appearance: none;
    -webkit-appearance: none;
    -moz-appearance: none;
    
    background-color: #0d1117; /* Fundo escuro igual aos inputs */
    color: #fff; /* Texto branco */
    border: 1px solid #30363d; /* Borda sutil */
    border-radius: 6px;
    padding: 12px 15px;
    font-family: 'Roboto', sans-serif;
    font-size: 1rem;
    cursor: pointer;
    width: 100%;
    
    /* Adiciona a setinha azul customizada */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2358a6ff' d='M6 8.825L1.175 4 2.238 2.938 6 6.7l3.763-3.763L10.825 4z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 12px;
}

/* Quando passa o mouse ou foca */
select.tech-select:hover,
select.tech-select:focus {
    border-color: #58a6ff; /* Borda azul */
    outline: none;
    box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.2); /* Brilho suave */
}

/* --- ESTILO DAS OPÇÕES (DROPDOWN) --- */
/* Nota: A estilização interna das <option> é limitada pelo navegador, 
   mas isso garante que o fundo seja escuro na maioria dos browsers modernos */
select.tech-select option {
    background-color: #161b22;
    color: #c9d1d9;
    padding: 10px;
}
/* --- ESTILO UNIFICADO PARA INPUTS E SELECTS --- */

/* Base para Inputs de Texto e Selects */
.tech-input, select.tech-select {
    width: 100%;
    padding: 12px 15px;
    background-color: #0d1117; /* Fundo Escuro */
    border: 1px solid #30363d; /* Borda Sutil */
    border-radius: 8px; /* Cantos Arredondados */
    color: #c9d1d9; /* Texto Claro */
    font-family: 'Roboto', sans-serif;
    font-size: 1rem;
    transition: all 0.2s ease;
    box-sizing: border-box;
}

/* Foco (Brilho Azul) */
.tech-input:focus, select.tech-select:focus {
    border-color: #58a6ff;
    outline: none;
    box-shadow: 0 0 0 3px rgba(88, 166, 255, 0.2);
}

/* Remove a seta padrão feia do Select */
select.tech-select {
    appearance: none;
    -webkit-appearance: none;
    cursor: pointer;
    /* Seta Personalizada (SVG Azul) */
    background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' viewBox='0 0 12 12'%3E%3Cpath fill='%2358a6ff' d='M6 8.825L1.175 4 2.238 2.938 6 6.7l3.763-3.763L10.825 4z'/%3E%3C/svg%3E");
    background-repeat: no-repeat;
    background-position: right 15px center;
    background-size: 12px;
}

/* --- ESTILO DAS LISTAS DE AUTOCOMPLETE (POKEMON E ITEM) --- */

/* Container Relativo (Para segurar a lista) */
.search-wrapper-relative, .item-container {
    position: relative;
    width: 100%;
    z-index: 50; /* Garante que fique acima */
}

/* A Lista Flutuante */
.pokemon-dropdown-list, .item-list {
    position: absolute;
    top: 100%; /* Cola embaixo do input */
    left: 0;
    width: 100%;
    max-height: 250px;
    overflow-y: auto;
    
    /* O MESMO ESTILO DO SELECT */
    background-color: #161b22; /* Fundo Sólido (Corrige o "sumiço") */
    border: 1px solid #58a6ff; /* Borda Azul Ativa */
    border-top: none;
    border-radius: 0 0 8px 8px; /* Arredonda só embaixo */
    
    display: none; /* Escondido por padrão */
    z-index: 1000; /* Fica por cima de tudo */
    box-shadow: 0 10px 30px rgba(0,0,0,0.5); /* Sombra para profundidade */
}

/* Itens da Lista */
.pokemon-dropdown-option, .item-option {
    padding: 12px 15px;
    border-bottom: 1px solid #30363d;
    cursor: pointer;
    color: #c9d1d9;
    font-size: 0.95rem;
    text-transform: capitalize;
    font-family: 'Roboto', sans-serif;
    transition: 0.1s;
}

/* Hover na Lista */
.pokemon-dropdown-option:hover, .item-option:hover {
    background-color: #1f6feb; /* Azul Vibrante */
    color: white;
    font-weight: 600;
}

/* Scrollbar Bonita */
.pokemon-dropdown-list::-webkit-scrollbar, .item-list::-webkit-scrollbar { width: 6px; }
.pokemon-dropdown-list::-webkit-scrollbar-track, .item-list::-webkit-scrollbar-track { background: #0d1117; }
.pokemon-dropdown-list::-webkit-scrollbar-thumb, .item-list::-webkit-scrollbar-thumb { background: #30363d; border-radius: 3px; }
.pokemon-dropdown-list::-webkit-scrollbar-thumb:hover, .item-list::-webkit-scrollbar-thumb:hover { background: #58a6ff; }